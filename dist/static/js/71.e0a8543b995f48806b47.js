webpackJsonp([71],{1236:function(e,t,n){t=e.exports=n(62)(),t.push([e.i,'/**\n * 二级菜单样式\n */\n.topMenu {\n  width: 1200px;\n  margin: 0 auto;\n  border-bottom: 1px solid #dfe3eb;\n  margin-bottom: 16px;\n}\n.topMenu .top-title {\n  font-size: 20px;\n  color: #33475B;\n  margin-top: 20px;\n}\n.topMenu .menu a {\n  margin-left: 2%;\n}\n.topMenu .menu li {\n  display: inline-block;\n  font-size: 14px;\n  padding: 16px 0 10px 0;\n  line-height: 18px;\n  position: relative;\n  cursor: pointer;\n  color: #7C98B6;\n}\n.topMenu .menu li .icon-active {\n  display: none;\n}\n.topMenu .menu li:hover {\n  color: #5488F9;\n}\n.topMenu .menu a:first-child {\n  margin-left: 0;\n}\n.topMenu .menu .icon,\n.topMenu .menu [class^="icon"] {\n  margin-right: 5px;\n}\n.topMenu .menu .curr {\n  border-bottom: 4px solid #5488F9;\n  color: #5488F9;\n}\n.topMenu .menu .curr .icon-unactive {\n  display: none;\n}\n.topMenu .menu .curr .icon-active {\n  display: inline-block;\n}\n.router-view {\n  width: 1200px;\n  margin: 0 auto;\n}\n#email_marketing.operate-container {\n  float: right;\n  margin-top: 0px;\n  font-size: 0px;\n}\n#email_marketing.operate-container a {\n  margin-left: 0px;\n}\n#email_marketing.operate-container .email-search {\n  width: 240px;\n  margin-right: 16px;\n}\n#email_marketing.operate-container .email-search .el-icon-search:hover + .el-input__inner {\n  border-color: #CBD6E3;\n}\n#email_marketing.operate-container .el-autocomplete {\n  width: 240px;\n  margin-right: 10px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input__inner {\n  height: 34px;\n  font-size: 13px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input-group__append {\n  padding: 0px 10px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input-group__append .contact-list-search {\n  padding: 9px 8px;\n}\n#email_marketing.operate-container .el-button {\n  font-size: 13px;\n}\n.topMenu .menu li {\n  position: relative;\n}\n.topMenu .menu li .mark {\n  position: absolute;\n  right: -27px;\n  top: 2px;\n  background: #FF3B6E;\n  color: #fff;\n  font-size: 12px;\n  padding: 2px 3px;\n  border-radius: 2px;\n  -webkit-transform: scale(0.75);\n          transform: scale(0.75);\n}\n',""])},1554:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"topMenu"},[n("div",{staticClass:"top-title"},[e._v("客户开发")]),e._v(" "),n("ul",{staticClass:"menu"},[e._l(e.menuList,function(t,i){return"/develop"!==t.url||"0"!==e.serverLevel?n("router-link",{key:i,attrs:{to:{path:t.url}}},[n("li",{class:{curr:i===e.selectedSubNav},domProps:{innerHTML:e._s(t.title)},on:{click:function(t){e.changeMenu(i)}}})]):e._e()}),e._v(" "),3==e.selectedSubNav&&e.isShowSearch?n("div",{staticClass:"operate-container",attrs:{id:"email_marketing"}},[n("el-input",{staticClass:"email-search",attrs:{placeholder:"请输入推广标题",icon:"search","on-icon-click":e.search},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.search(t)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),0!=e.max?n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.addEmailMarketFunc}},[e._v("新增邮件推广")]):n("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("新增邮件推广")])],1):e._e()],2)]),e._v(" "),n("div",{staticClass:"router-view"},[n("router-view")],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},1730:function(e,t,n){var i=n(1236);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(105)("322cad2e",i,!1)},352:function(e,t,n){n(1730);var i=n(106)(n(987),n(1554),null,null);i.options.__file="D:\\B2Bseller4.0\\b2b-seller4.0\\src\\components\\subNavBars\\CustomerDevBar.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e}),i.options.functional,e.exports=i.exports},555:function(e,t,n){"use strict";var i=n(13),r="https://server.onloon.com.cn",o={getLinker:function(e){return i.a.get(r+"/bshop/contacts/list",e)},getSendNum:function(e){return i.a.get(r+"/bshop/client/mail/marketing/account",e)},channelShopList:function(e){return i.a.get(r+"/bshop/channel/shop/list",e)},getMarketStatistic:function(){return i.a.get("https://server.onloon.com.cn/bshop/client/mail/marketing/statistic/overall")},getMarketList:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/page",e)},getMarketDetail:function(e){return i.a.get("https://server.onloon.com.cn/bshop/client/mail/marketing/detail",e)},deleteMarket:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/delete",e)},addMarketSend:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/add/send",e)},addDraft:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/add/draft",e)},updateMarketSend:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/update/send",e)},updateDraft:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/update/draft",e)},getChannelList:function(){return i.a.get("https://server.onloon.com.cn/bshop/channel/shop/list")},getReceiverStatis:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/receiver/statistic",e)},getReceiverList:function(e){return i.a.post("https://server.onloon.com.cn/bshop/client/mail/marketing/receiver/page",e)},getContact:function(){return i.a.get(r+"/bshop/company/contact/find")},getGroups:function(e){return i.a.get(r+"/bshop/contacts/group/list",e)},getLinkerNum:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/count",e)},getEmailReceivers:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/page",e)},getEmailReceiversDetail:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/detail",e)},getmailSeriesAll:function(e){return i.a.get(r+"/bshop/client/mail/marketing/statistic/report",e)}};t.a=o},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(69),r=n.n(i),o=n(555),a=n(114);t.default={data:function(){return{selectedSubNav:0,serverLevel:"1",searchText:"",isShowSearch:!0,isBind:!1,max:localStorage.getItem("max"),total:localStorage.getItem("total"),hitPer:0,menuListCopy:[],menuList:[{title:'<i class="icon-font">&#xe6ae;</i>外贸侦探',url:"/tradeDetect",code:"BD"},{title:'<i class="icon-font">&#xe690;</i>发现客户',url:"/develop",code:"BA"},{title:'<i class="icon-font">&#xe67e;</i>社交推广',url:"/extension",code:"BB"},{title:'<i class="icon-font">&#xe6c2;</i>邮件营销',url:"/emailmarketing",code:"BC"}],pageName:this.$route.path}},mounted:function(){this.serverLevel=window.localStorage.serverLevel,this.menuListCopy=this.menuList,this.rightCompute(this.menuList),this.isBindEmail()},computed:r()({},n.i(a.b)(["allRights"])),methods:{isRouterInRightArray:function(){var e=this.$router.currentRoute.fullPath;this.menuList.some(function(t){return t.url===e})||this.$router.push({path:"/index"})},setSelectedTab:function(){this.$store.dispatch("setNavIndex","");for(var e in this.menuList)this.$route.path===this.menuList[e].url&&(this.selectedSubNav=parseInt(e));this.$route.path.indexOf("emailmarket")>0&&(this.selectedSubNav=3);var t=localStorage.userId,n=JSON.parse(localStorage["topBar"+t]);for(var i in n)"客户开发"===n[i].title&&this.$store.dispatch("setNavIndex",parseInt(i))},rightCompute:function(e){if(sessionStorage.functions){var t=JSON.parse(sessionStorage.functions),n=[];for(var i in e)this.isInRightArray(e[i],t)&&("BC"===e[i].code?"1"!==this.serverLevel&&"2"!==this.serverLevel||n.push(e[i]):n.push(e[i]));this.menuList=n,this.setSelectedTab()}},isInRightArray:function(e,t){return t.some(function(t){return t.code===e.code})},changeMenu:function(e){this.selectedSubNav=e},querySearchAsync:function(e,t){if(e.length<2)return void t([]);this.curTimer&&clearTimeout(this.curTimer)},isBindEmail:function(){var e=this;o.a.getChannelList().then(function(t){if(0===t.data.code){var n=t.data.data,i=e;n.forEach(function(e){"MAIL"===e.channelId&&(""!==e.emailAddress&&null!==e.emailAddress&&1===e.bindingTag?i.isBind=!0:i.isBind=!1)})}else e.isBind=!1})},createStateFilter:function(e){return function(t){return-1!==t.value.indexOf(e.toLowerCase())}},search:function(){if(""===this.searchText||null===this.searchText)return void this.$message.error("请输入推广标题");this.$store.commit("DEVELOP_KEYWORD",{keyWord:this.searchText})},addEmailMarketFunc:function(){this.isBind?parseInt(this.total)>=parseInt(this.max)?this.$message.error("发送邮件达到上限"):(this.$store.commit("DEVELOP_SENDINFO",{first:{},second:[],third:{},four:{}}),this.$store.commit("DEVELOP_ISMENUCLICK",!1),this.$router.push({path:"/emailTopMenu"})):this.$message.error("请先绑定邮箱")},getMarketStatisticFunc:function(){var e=this;o.a.getMarketStatistic().then(function(t){if(0===t.data.code){var n=t.data.data;e.max=n.max,e.total=n.total,e.arrivePer=n.arrivePer,e.readPer=n.readPer,e.hitPer=n.hitPer,localStorage.setItem("max",e.max),localStorage.setItem("total",e.total),localStorage.setItem("arrivePer",e.arrivePer),localStorage.setItem("readPer",e.readPer),localStorage.setItem("hitPer",e.hitPer)}})}},watch:{$route:function(e,t){e.path.indexOf("emailmarketing")>0?this.isShowSearch=!0:this.isShowSearch=!1},allRights:function(){this.rightCompute(this.menuListCopy),this.isRouterInRightArray()}}}}});
//# sourceMappingURL=71.e0a8543b995f48806b47.js.map