webpackJsonp([76],{1310:function(t,n,e){n=t.exports=e(62)(),n.push([t.i,'/**\n * 二级菜单样式\n */\n.topMenu {\n  width: 1200px;\n  margin: 0 auto;\n  border-bottom: 1px solid #dfe3eb;\n  margin-bottom: 16px;\n}\n.topMenu .top-title {\n  font-size: 20px;\n  color: #33475B;\n  margin-top: 20px;\n}\n.topMenu .menu a {\n  margin-left: 2%;\n}\n.topMenu .menu li {\n  display: inline-block;\n  font-size: 14px;\n  padding: 16px 0 10px 0;\n  line-height: 18px;\n  position: relative;\n  cursor: pointer;\n  color: #7C98B6;\n}\n.topMenu .menu li .icon-active {\n  display: none;\n}\n.topMenu .menu li:hover {\n  color: #5488F9;\n}\n.topMenu .menu a:first-child {\n  margin-left: 0;\n}\n.topMenu .menu .icon,\n.topMenu .menu [class^="icon"] {\n  margin-right: 5px;\n}\n.topMenu .menu .curr {\n  border-bottom: 4px solid #5488F9;\n  color: #5488F9;\n}\n.topMenu .menu .curr .icon-unactive {\n  display: none;\n}\n.topMenu .menu .curr .icon-active {\n  display: inline-block;\n}\n.router-view {\n  width: 1200px;\n  margin: 0 auto;\n}\n',""])},1616:function(t,n,e){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"topMenu"},[e("div",{staticClass:"top-title"},[t._v("联系人管理")]),t._v(" "),e("ul",{staticClass:"menu"},t._l(t.menuList,function(n,o){return e("router-link",{key:o,attrs:{to:{path:n.url,query:{type:n.type}}}},[e("li",{class:{curr:o===t.selectedSubNav},staticStyle:{"min-width":"104px"},on:{click:function(e){t.changeMenu(o,n.type)}}},[e("span",{domProps:{innerHTML:t._s(n.title)}}),t._v(" \n            "),"DA"==n.code&&0==t.selectedSubNav?e("span",{staticClass:"person-count"},[t.personTotalCount>100||t.contactPersonCount>100?e("span",[t.personTotalCount>100?e("span",[t._v("\n                  ("+t._s(-1==t.contactPersonCount?"99+":t.contactPersonCount)+")\n                ")]):t._e(),t._v(" "),t.contactPersonCount>100?e("span",[t._v("\n                  ("+t._s(-1==t.contactPersonCount?t.personTotalCount:"99+")+")\n                ")]):t._e()]):e("span",[t._v("("+t._s(-1==t.contactPersonCount?t.personTotalCount:t.contactPersonCount)+")")])]):"DB"==n.code&&1==t.selectedSubNav?e("span",[t.companyTotalCount>100||t.contactCompanyCount>100?e("span",[t.companyTotalCount>100?e("span",[t._v("\n                  ("+t._s(-1==t.contactCompanyCount?"99+":t.contactCompanyCount)+")\n                ")]):t._e(),t._v(" "),t.contactCompanyCount>100?e("span",[t._v("\n                  ("+t._s(-1==t.contactCompanyCount?t.companyTotalCount:"99+")+")\n                ")]):t._e()]):e("span",[t._v("("+t._s(-1==t.contactCompanyCount?t.companyTotalCount:t.contactCompanyCount)+")")])]):t._e()])])}))]),t._v(" "),e("div",{staticClass:"router-view"},[e("router-view")],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},1804:function(t,n,e){var o=e(1310);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(105)("9bf4c4fa",o,!1)},350:function(t,n,e){e(1804);var o=e(106)(e(985),e(1616),null,null);o.options.__file="D:\\B2Bseller4.0\\b2b-seller4.0\\src\\components\\subNavBars\\ContactBar.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),o.options.functional,t.exports=o.exports},985:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(69),s=e.n(o),i=e(114);n.default={data:function(){return{selectedSubNav:0,menuListCopy:[],personTotalCount:0,companyTotalCount:0,menuList:[{title:'<i class="icon-font">&#xe689;</i>联系人',url:"/contact",type:0,code:"DA"},{title:'<i class="icon-font">&#xe638;</i>公司',url:"/contact",type:1,code:"DB"}]}},mounted:function(){this.menuListCopy=this.menuList,this.rightCompute(this.menuList),this.$store.dispatch("getContactList",{companyId:"",size:20,page:1,filter:-1})},computed:s()({},e.i(i.b)(["allRights"]),{contactCompanyCount:function(){return this.$store.getters.contactCompanyCount},contactPersonCount:function(){return this.$store.getters.contactPersonCount}}),watch:{$route:function(){1===parseInt(this.$route.query.type)?this.selectedSubNav=1:this.selectedSubNav=0,1===this.menuList.length&&(this.selectedSubNav=0)},allRights:function(){this.rightCompute(this.menuListCopy),this.isRouterInRightArray()}},methods:{isRouterInRightArray:function(){var t=this.$router.currentRoute.fullPath;this.menuList.some(function(n){return n.url===t&&0===n.type||n.url+"?type="+n.type===t})||this.$router.push({path:"/index"})},setSelectedTab:function(){this.$store.dispatch("setNavIndex",""),1===parseInt(this.$route.query.type)?this.selectedSubNav=1:this.selectedSubNav=0,1===this.menuList.length&&(this.selectedSubNav=0);var t=localStorage.userId,n=JSON.parse(localStorage["topBar"+t]);for(var e in n)"联系人管理"===n[e].title&&this.$store.dispatch("setNavIndex",parseInt(e))},rightCompute:function(t){if(sessionStorage.functions){var n=JSON.parse(sessionStorage.functions),e=[];for(var o in t)this.isInRightArray(t[o],n)&&e.push(t[o]);this.menuList=e,this.setSelectedTab()}},isInRightArray:function(t,n){return n.some(function(n){return n.code===t.code})},changeMenu:function(t,n){this.selectedSubNav=t,this.$store.commit("CONTACT_TYPE",{contactType:n}),this.$store.dispatch("getContactList",{companyId:"",size:20,page:1,filter:-1}),this.$store.commit("FILTER_TYPE",{filterType:-1})}}}}});
//# sourceMappingURL=76.cb04d8092acb6701f727.js.map