webpackJsonp([30,81],{1126:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(437),o=n.n(i),s=n(69),r=n.n(s),a=n(556),l=n(621),c=n.n(l),p=n(114);e.default={name:"logisticsManagement",data:function(){return{tableData:[],isLoaded:!1,logisticsInfo:{}}},components:{showMore:c.a},mounted:function(){var t=this;a.a.getLogisticsDetail({id:this.$route.params.lid}).then(function(e){t.isLoaded=!0,t.$store.commit("SET_LOGISTICS_INFO",e.data.data),t.tableData=t.logisticsInfoWrap.logistFreightDetails,t.logisticsInfo=t.logisticsInfoWrap.logistFreight}),a.a.getZhouAndCountry().then(function(e){t.$store.commit("CACHE_ZHOUS",e.data.data)})},computed:r()({},n.i(p.b)({logisticsInfoWrap:"logisticsInfo"}),{vmTable:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var s,r=o()(this.tableData);!(e=(s=r.next()).done);e=!0){var a=s.value;a.deleteTag||t.push(a)}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}return t}}),methods:{cancel:function(){this.$router.push({path:"/logisticsManagement"})},save:function(){var t=this,e={id:this.logisticsInfo.id,name:this.logisticsInfo.name,sendArea:"China",priceUnit:"USD"};for(var n in this.tableData)e["logistFreightDetail["+n+"].id"]=this.tableData[n].id,e["logistFreightDetail["+n+"].freightBear"]=this.tableData[n].freightBear,e["logistFreightDetail["+n+"].receiveCountrys"]=this.tableData[n].receiveCountrys,e["logistFreightDetail["+n+"].settingMode"]=this.tableData[n].settingMode,e["logistFreightDetail["+n+"].firstNum"]=this.tableData[n].firstNum,e["logistFreightDetail["+n+"].firstAmount"]=this.tableData[n].firstAmount/100,e["logistFreightDetail["+n+"].nextNum"]=this.tableData[n].nextNum,e["logistFreightDetail["+n+"].nextAmount"]=this.tableData[n].nextAmount/100,e["logistFreightDetail["+n+"].deleteTag"]=this.tableData[n].deleteTag;a.a.updateFreight(e).then(function(e){t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/logisticsManagement"})})},setAddress:function(t){this.$store.commit("SET_FROM_PAGE","edit"),this.$store.commit("SET_EDIT_INDEX",t),this.$router.push({path:"/logisticsSetAddress"})},addFreight:function(){this.$store.commit("SET_FROM_PAGE","add"),this.$router.push({path:"/logisticsSetAddress"})},deleteFreight:function(t){this.$store.commit("DELETE_TEMP_I",t)}}}},1295:function(t,e,n){e=t.exports=n(62)(),e.push([t.i,"\n.opt-btns {\n  text-align: center;\n}\n.logistic-edit-container {\n  width: 100%;\n  min-height: 600px;\n  background: white;\n  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.06);\n  border-radius: 6px;\n  overflow: hidden;\n}\n.logistic-edit-container .l-sub-title {\n  color: #33475B;\n  font-size: 14px;\n  margin: 24px 15px;\n}\n.logistic-edit-container .temp-input {\n  height: 34px;\n  width: 240px;\n  border-radius: 4px;\n  border: 1px solid #CBD6E3;\n  padding-left: 10px;\n}\n.logistic-edit-container .from {\n  color: #33475B;\n  font-size: 14px;\n  margin: 30px;\n}\n.logistic-edit-container .table-temp {\n  margin: 0 24px;\n}\n.logistic-edit-container .table-temp .el-table__header-wrapper thead div,\n.logistic-edit-container .table-temp .el-table th {\n  background: #F5F8FA;\n}\n.logistic-edit-container .table-temp .el-table td {\n  vertical-align: top;\n}\n.logistic-edit-container .table-temp .el-table .cell {\n  padding: 16px;\n  color: #33475B;\n}\n.logistic-edit-container .table-temp .operate-btn {\n  color: #5488F9;\n  font-size: 13px;\n  margin-left: 16px;\n  cursor: pointer;\n}\n.logistic-edit-container .add-temp {\n  color: #5488F9;\n  font-size: 14px;\n  text-align: center;\n  border: 1px solid #DFE3EB;\n  padding: 31px 0;\n  margin: 0 24px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n.logistic-edit-container .add-tip {\n  color: #B0C1D4;\n  font-size: 13px;\n  margin: 8px 24px;\n}\n",""])},1604:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"logistic-edit-container"},[n("div",{staticClass:"l-sub-title"},[t._v("\n      运费模板:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.logisticsInfo.name,expression:"logisticsInfo.name"}],staticClass:"temp-input",attrs:{type:"text",placeholder:"请输入运费模版名称"},domProps:{value:t.logisticsInfo.name},on:{input:function(e){e.target.composing||(t.logisticsInfo.name=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"from"},[t._v("发货地： china")]),t._v(" "),t.isLoaded?n("div",{staticClass:"table-temp"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.vmTable,"show-header":!1}},[n("el-table-column",{attrs:{prop:"id",label:"模板2"},scopedSlots:t._u([["default",function(e){return[t._v("\n            "+t._s(e.$index+1)+"\n          ")]}]])}),t._v(" "),n("el-table-column",{attrs:{prop:"receiveCountrys",width:"600",label:"运送到"},scopedSlots:t._u([["default",function(t){return[n("div",{staticClass:"countries-wrap"},[n("show-more",{attrs:{text:t.row.receiveCountrys,len:260}})],1)]}]])}),t._v(" "),n("el-table-column",{attrs:{prop:"freightBear",label:"模板"},scopedSlots:t._u([["default",function(e){return[1===e.row.freightBear?n("span",[t._v("卖家承担运费")]):t._e(),t._v(" "),0===e.row.freightBear?n("span",[t._v("自定义运费")]):t._e()]}]])}),t._v(" "),n("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:t._u([["default",function(e){return[n("span",{staticClass:"operate-btn",on:{click:function(n){t.setAddress(e.$index)}}},[t._v("编辑")]),t._v(" "),n("span",{staticClass:"operate-btn",on:{click:function(n){t.deleteFreight(e.$index)}}},[t._v("删除")])]}]])})],1)],1):t._e(),t._v(" "),n("div",{staticClass:"add-temp",on:{click:t.addFreight}},[n("span",{staticClass:"icon-font",staticStyle:{color:"black"}},[t._v("")]),t._v("\n      添加一个运费组合\n    ")]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"opt-btns"},[n("div",{staticClass:"cancel-btn",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"save-btn",on:{click:t.save}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-tip"},[n("span",{staticClass:"icon-font",staticStyle:{color:"#FFB822"}},[t._v("")]),t._v("\n    若买家不在我设定的运送国家或地区内，运费组合中不包含的国家/地区将设置为不发货。")])}]},t.exports.render._withStripped=!0},1789:function(t,e,n){var i=n(1295);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(105)("09230ca6",i,!1)},402:function(t,e,n){n(1789);var i=n(106)(n(1126),n(1604),null,null);i.options.__file="D:\\B2Bseller4.0\\b2b-seller4.0\\src\\views\\orderLogistics\\logistics\\logisticsEdit.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),i.options.functional,t.exports=i.exports},437:function(t,e,n){t.exports={default:n(448),__esModule:!0}},448:function(t,e,n){n(65),n(64),t.exports=n(449)},449:function(t,e,n){var i=n(14),o=n(112);t.exports=n(9).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},556:function(t,e,n){"use strict";var i=n(13),o={getLogisticsTmpl:function(t){return i.a.get("https://server.onloon.com.cn/bshop/logistics/freighttemplate/list",t)},getZhouAndCountry:function(t){return i.a.get("https://server.onloon.com.cn/bshop/config/continent/listwithcountrys",t)},deleteTmpl:function(t){return i.a.get("https://server.onloon.com.cn/bshop/logistics/freighttemplate/delete",t)},updateFreight:function(t){return i.a.post("https://server.onloon.com.cn/bshop/logistics/freighttemplate/update",t)},addFreight:function(t){return i.a.post("https://server.onloon.com.cn/bshop/logistics/freighttemplate/add",t)},setDefaultTmpl:function(t){return i.a.get("https://server.onloon.com.cn/bshop/logistics/freighttemplate/setdefault",t)},getLogisticsDetail:function(t){return i.a.get("https://server.onloon.com.cn/bshop/logistics/freighttemplate/detail",t)},isBindAccount:function(t){return i.a.get("https://server.onloon.com.cn/bshop/capital/paypal/querydetail",t)},getStatisticsData:function(){return i.a.get("https://server.onloon.com.cn/bshop/capital/shop/statistics")},bindAccount:function(){var t=location.protocol+"//"+window.location.host+"/#/back/2/",e={callbackHtml:t};return i.a.get("https://server.onloon.com.cn/bshop/capital/paypal/binding",e)},removeAccount:function(){return i.a.post("https://server.onloon.com.cn/bshop/capital/paypal/remove")},getTransactionList:function(t){return i.a.get("https://server.onloon.com.cn/bshop/capital/shop/flowpage",t)}};e.a=o},577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isFilter:!0,that:this,isShowMore:!1,showMoreText:"展开"}},props:{text:String,type:{type:Number,default:-1},len:Number},methods:{replaceReg:function(t,e){return e.replace(t,function(t){return'<a href="'+t+'" target="_blank">'+t+"</a>"})},filterStr:function(){var t="";if(null===this.text)return"";t=this.text;var e=new RegExp("((https|http)://)[A-Za-z0-9.-_]+\\.[A-Za-z0-9-_%&?/.=]+","gi");return t=this.replaceReg(e,t),this.text.length>this.len&&this.isFilter?(this.isShowMore=!0,t.substring(0,this.len)+"..."):t},showMore:function(t){t.stopPropagation(),"展开"===this.showMoreText?(this.isFilter=!1,this.showMoreText="收起"):(this.isFilter=!0,this.showMoreText="展开")}}}},578:function(t,e,n){e=t.exports=n(62)(),e.push([t.i,"\n.describe {\n  line-height: 16px;\n}\n.describe span a {\n  text-decoration: none;\n}\n.describe a {\n  color: #4a90e2;\n  text-decoration: underline;\n  cursor: pointer;\n}\n",""])},621:function(t,e,n){n(623);var i=n(106)(n(577),n(622),null,null);i.options.__file="D:\\B2Bseller4.0\\b2b-seller4.0\\src\\components\\showMore.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),i.options.functional,t.exports=i.exports},622:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"describe"},[n("span",{domProps:{innerHTML:t._s(t.filterStr())}}),t._v(" "),t.isShowMore?n("a",{staticClass:"showMore",domProps:{textContent:t._s(t.showMoreText)},on:{click:function(e){t.showMore(e)}}}):t._e()])},staticRenderFns:[]},t.exports.render._withStripped=!0},623:function(t,e,n){var i=n(578);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(105)("176a4e61",i,!1)}});
//# sourceMappingURL=30.d31a23610ce03716fb83.js.map