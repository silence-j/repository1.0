{"version":3,"sources":["webpack:///static/js/80.ef24539a1530a2bca39b.js","webpack:///Sku.vue","webpack:///./src/views/product/cpnts/Sku.vue?65dd","webpack:///./src/views/product/cpnts/Sku.vue","webpack:///./src/views/product/cpnts/Sku.vue?21c1","webpack:///./src/views/product/cpnts/Sku.vue?04aa","webpack:///./src/api/orderLogisticsAPI.js?7c26****"],"names":["webpackJsonp","1134","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__api_productApi__","__WEBPACK_IMPORTED_MODULE_4__api_orderLogisticsAPI__","__WEBPACK_IMPORTED_MODULE_5_vue__","name","props","data","specs","skuList","skuInputs","productSpecs","specname","skuTab","skuOpt","skuOpt1","skuOpt2","sortSkuList","specTrWid","priceUnitSku","positiveInt","spanNum","freightWay","isSkuEdit","sameWholeNum","popov","defaultInputs","placed","specval","priceMap","USD","freightList","chkAllDisabld","components","methods","toAddr","this","$store","commit","window","open","removeSign","flag","set","dealSign","_name","indexOf","replace","validInvent","index","p","vals","opt","isNaN","test","$message","error","stockIsEmp","validPrice","moreSku","deepCopyArr","moreSkuVal","push","skuShowDel","vindex","sku1","splice","length","caluSku","skuEdit","_this2","list","forEach","item","idx","item2","index2","saveSku","_this","isRepeat","specvalNum","j","lens","i","len","x","lenx","_j","len2","inputs","_j2","_len","sort","_j3","_len2","obj","skulist","addMPriceNum","productSpecNums","price","startNum","deleteNumSku","showPriceSpan","validStart","prev","next","isDelone","arr","thisprice","specNumSpan","sortNum","pop","getFreAgain","isvisble","_this3","getFreight","then","res","renderCateBack","form","specback","renderSkuAdd","renderSku","spec","editSpec","specMap","specName","split","nameval","isExist","key","a","b","fenToYuan","val","parseFloat","toFixed","JSON","parse","$this","tablen","j0","all","_item","span","prevlen","m","$emit","lastv","arr2","len3","_m","lastarr","sku2","sku3","_m2","_len3","m2","_len4","item3","m3","len4","join","strval","sortdata","optdata","copyopt","_i2","itv","rest","old","curr","_m3","ad","_all","_i","_len5","includes","copyTab","copysku0","copysku1","optdataNEW","_i3","_j4","_len6","_optdata","_optdata2","opt2","specPrice","invenory","nums","intervArr","priceInterval","interv","Number","priceUnit","objs","unique","computed","created","_this4","getZhouAndCountry","$route","params","isback","watch","v","firstnotnull","_i4","_len7","toBack","specs.skuOpt1.vals","1168","exports","1473","Component","options","__file","esModule","keys","some","functional","1489","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label","_v","class","skuspec-no","directives","rawName","expression","placeholder","on","blur","$event","model","callback","$$v","_l","type","click","_s","_e","label-width","required","id","style","width","height","line-height","title","unitMap","productUnitEn","disabled","maxlength","readonly","placement","popper-class","trigger","muld","slot","href","prop","freightBear","freightPrice","visible-change","freightTemplate","place","staticRenderFns","_withStripped","1662","content","locals","556","__WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__","orderLogisticsAPI","getLogisticsTmpl","parame","get","deleteTmpl","updateFreight","post","addFreight","setDefaultTmpl","getLogisticsDetail","isBindAccount","getStatisticsData","bindAccount","lost","location","protocol","host","pramerobj","callbackHtml","removeAccount","getTransactionList","param"],"mappings":"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","file":"static/js/80.ef24539a1530a2bca39b.js","sourcesContent":["webpackJsonp([80],{\n\n/***/ 1134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(431);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_productApi__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_orderLogisticsAPI__ = __webpack_require__(556);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue__ = __webpack_require__(0);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'ProductModify',\n  props: ['form', 'editSpec', 'unitMap', 'toBack', 'specback'],\n  data: function data() {\n    return {\n      specs: {\n        skuList: [],\n        skuInputs: [],\n        productSpecs: {},\n        specname: '',\n        skuTab: [],\n        skuOpt: [],\n        skuOpt1: {},\n        skuOpt2: {},\n        sortSkuList: [],\n        specTrWid: '30%'\n      },\n      priceUnitSku: 'USD',\n      positiveInt: /^[1-9]\\d*$/,\n      spanNum: /^\\d{1,}(~\\d{1,})?$/,\n      freightWay: '0',\n      isSkuEdit: true,\n      sameWholeNum: false,\n      popov: [],\n      defaultInputs: [{ 'placed': '规格值，如“S”', 'specval': '' }, { 'placed': '规格值，如“M”', 'specval': '' }, { 'placed': '规格值，如“L”', 'specval': '' }, { 'placed': '规格值，如“XL”', 'specval': '' }],\n\n      priceMap: { 'USD': '美元' },\n      freightList: [],\n      chkAllDisabld: true\n    };\n  },\n\n  components: {},\n  methods: {\n    toAddr: function toAddr() {\n      this.$store.commit('SET_FROM_PAGE', 'new', 0);\n      this.$store.commit('SET_LOGISTICS_INFO', {});\n      window.open('#/logisticsSetAddress');\n    },\n    removeSign: function removeSign(flag) {\n      if (flag === 'specname') {\n        var name = this.specs.specname;\n        __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(this.specs, 'specname', this.dealSign(name));\n      } else {\n        var _name = this.specs.skuInputs[flag].specval;\n        __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(this.specs.skuInputs[flag], 'specval', this.dealSign(_name));\n      }\n    },\n    dealSign: function dealSign(name) {\n      if (name.indexOf(':') !== -1 || name.indexOf(';') !== -1) {\n        name = name.replace(/:/g, '').replace(/;/g, '');\n      }\n      return name;\n    },\n    validInvent: function validInvent(index) {\n      var p = this.specs.skuOpt1.vals[index].opt;\n      if (isNaN(p) || p < 0 || !this.positiveInt.test(p)) {\n        this.$message.error('库存必须为大于0的正整数');\n        this.specs.skuOpt1.vals[index].opt = '';\n        __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(this.specs.skuOpt1, 'vals', this.specs.skuOpt1.vals);\n      }\n      this.stockIsEmp();\n    },\n    validPrice: function validPrice(index) {\n      var p = this.specs.skuOpt2.vals[index].opt;\n\n      if (p.indexOf('~') === -1 && (isNaN(p) || p < 0 || p > 10000000)) {\n        this.$message.error('单价必须为0-10000000之间的数字');\n        this.specs.skuOpt2.vals[index].opt = '';\n        __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals);\n      }\n    },\n    moreSku: function moreSku() {\n      this.isSkuEdit = true;\n      this.specs.specname = '';\n      this.specs.skuInputs = this.deepCopyArr(this.defaultInputs);\n    },\n    moreSkuVal: function moreSkuVal() {\n      this.specs.skuInputs.push({ 'placed': '规格值', 'specval': '' });\n    },\n    skuShowDel: function skuShowDel(vindex, index) {\n      var sku1 = this.specs.skuList[vindex];\n      sku1['vals'].splice(index, 1);\n      if (!sku1.vals.length) {\n        this.specs.skuList.splice(vindex, 1);\n      }\n      this.caluSku(this.specs.skuList, 'del');\n    },\n    skuEdit: function skuEdit(vindex) {\n      var _this2 = this;\n\n      this.isSkuEdit = true;\n      var list = this.specs.skuList[vindex].vals;\n      this.specs.skuInputs = [];\n      list.forEach(function (item, index) {\n        var p = _this2.defaultInputs[index] ? _this2.defaultInputs[index].placed || '规格值' : '规格值';\n        _this2.specs.skuInputs.push({ 'placed': p, 'specval': item.specval, idx: vindex });\n      });\n      this.specs.skuList.forEach(function (item2, index2) {\n        item2.idx = index2;\n      });\n      this.specs.specname = this.specs.skuList[vindex].name;\n      this.specs.skuList.splice(vindex, 1);\n    },\n    saveSku: function saveSku() {\n      var _this = this.specs;\n      var isRepeat = false;\n      var specvalNum = 0;\n      for (var j = 0, lens = _this.skuInputs.length; j < lens; j++) {\n        if (!_this.skuInputs[j].specval) {\n          specvalNum++;\n        }\n      }\n      if (!_this.specname) {\n        this.$message.error('请填写规格名');\n        return;\n      }\n      if (specvalNum === _this.skuInputs.length) {\n        this.$message.error('请填写规格值');\n        return;\n      }\n      for (var i = 0, len = _this.skuList.length; i < len; i++) {\n        var vals = _this.skuList[i].vals;\n        if (_this.specname === _this.skuList[i].name) {\n          isRepeat = true;\n          break;\n        }\n        for (var x = 0, lenx = vals.length; x < lenx; x++) {\n          if (_this.specname === vals[x].specval) {\n            isRepeat = true;\n            break;\n          }\n          for (var _j = 0, len2 = _this.skuInputs.length; _j < len2; _j++) {\n            if (_this.skuInputs[_j].specval === vals[x].specval || _this.skuInputs[_j].specval === _this.skuList[i].name) {\n              isRepeat = true;\n              break;\n            }\n          }\n        }\n      }\n      if (isRepeat) {\n        this.$message.error('规格请勿重复');\n        return;\n      }\n      var inputs = [];\n      for (var _j2 = 0, _len = _this.skuInputs.length; _j2 < _len; _j2++) {\n        if (_this.skuInputs[_j2].specval) {\n          inputs.push(_this.skuInputs[_j2].specval);\n        }\n      }\n      inputs = inputs.sort();\n      for (var _j3 = 0, _len2 = inputs.length; _j3 < _len2 - 1; _j3++) {\n        if (inputs[_j3] === inputs[_j3 + 1]) {\n          isRepeat = true;\n          break;\n        }\n      }\n      if (isRepeat) {\n        this.$message.error('同组规格值之间请勿重复');\n        return;\n      }\n      var obj = { name: _this.specname, vals: [] };\n      var skulist = [];\n      _this.skuInputs.forEach(function (item, i) {\n        if (item.specval) {\n          obj.vals.push({ 'placed': item.placed, 'specval': item.specval });\n        }\n      });\n\n      _this.specname = '';\n\n      if (typeof _this.skuInputs[0].idx !== 'undefined' && !isNaN(_this.skuInputs[0].idx)) {\n        skulist[_this.skuInputs[0].idx] = obj;\n        _this.skuList.forEach(function (item) {\n          if (!isNaN(item.idx)) {\n            skulist[item.idx] = item;\n          }\n        });\n        _this.skuList = this.deepCopyArr(skulist);\n      } else {\n        _this.skuList.push(obj);\n      }\n      _this.skuInputs = this.deepCopyArr(this.defaultInputs);\n\n      this.caluSku(_this.skuList, 'doedit');\n    },\n    addMPriceNum: function addMPriceNum(index) {\n      var list = this.specs.skuOpt2.vals[index].productSpecNums;\n      if (list.length < 4) {\n        list.push({ price: '', startNum: '' });\n      }\n    },\n    deleteNumSku: function deleteNumSku(index, idx) {\n      var list = this.specs.skuOpt2.vals[index].productSpecNums;\n      list.splice(idx, 1);\n\n      this.showPriceSpan(index, idx, 'delone');\n    },\n    validStart: function validStart(index, idx) {\n      var p = this.specs.skuOpt2.vals[index];\n      var item = p.productSpecNums[idx];\n      var prev = p.productSpecNums[idx - 1];\n      var next = p.productSpecNums[idx + 1];\n      if (item.startNum === '') {\n        this.showPriceSpan(index, idx);\n        return;\n      }\n      if (item.startNum < 0 || !this.positiveInt.test(item.startNum)) {\n        this.$message.error('起订量必须为大于0的正整数');\n        item.startNum = '';\n      }\n      if (prev) {\n        if (+item.startNum <= +prev.startNum) {\n          this.$message.error('起订量必须大于上一个');\n          item.startNum = '';\n        }\n      }\n      if (next && next.startNum) {\n        if (+item.startNum >= +next.startNum) {\n          this.$message.error('起订量必须小于下一个');\n          item.startNum = '';\n        }\n      }\n      this.showPriceSpan(index, idx);\n    },\n    showPriceSpan: function showPriceSpan(index, idx, isDelone) {\n      var p = this.specs.skuOpt2.vals[index];\n      var arr = [];\n      if (isDelone !== 'delone') {\n        var thisprice = p.productSpecNums[idx].price;\n        if (isNaN(thisprice) || thisprice < 0 || thisprice > 10000000) {\n          this.$message.error('规格单价必须为0-10000000之间的数字');\n          p.productSpecNums[idx].price = '';\n          return;\n        }\n      }\n      p.productSpecNums.forEach(function (item) {\n        if (item.price !== '') {\n          arr.push(+item.price);\n        }\n      });\n\n      if (arr.length === 0) {\n        p.specNumSpan = '';\n      } else {\n        arr.sort(this.sortNum);\n        p.specNumSpan = arr[0] + '~' + arr.pop();\n      }\n      p.opt = p.specNumSpan;\n      __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals);\n    },\n    getFreAgain: function getFreAgain(isvisble) {\n      var _this3 = this;\n\n      if (isvisble) {\n        __WEBPACK_IMPORTED_MODULE_3__api_productApi__[\"a\" /* default */].getFreight().then(function (res) {\n          _this3.freightList = res.data.data;\n        });\n      }\n    },\n    renderCateBack: function renderCateBack() {\n      this.freightWay = this.form.freightWay;\n      __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(this.specs, this.specback);\n    },\n    renderSkuAdd: function renderSkuAdd() {\n      this.specs.skuInputs = this.deepCopyArr(this.defaultInputs);\n    },\n    renderSku: function renderSku() {\n      var spec = this.editSpec;\n      if (this.specback.skuInputs) {\n        this.renderCateBack();\n        return;\n      }\n      if (spec && !spec.length) {\n        this.renderSkuAdd();\n        return;\n      }\n      this.freightWay = this.form.freightWay;\n      var _this = this.specs;\n\n      var specMap = {};\n\n      spec.forEach(function (item, index) {\n        var arr = item.specName.split(';');\n        arr.forEach(function (item2) {\n          if (item2) {\n            var nameval = item2.split(':');\n            var name = specMap[nameval[0]];\n            if (name && name.length) {\n              var isExist = false;\n              for (var i = 0, len = name.length; i < len; i++) {\n                if (name[i].specval === nameval[1]) {\n                  isExist = true;\n                  break;\n                }\n              }\n              if (!isExist) {\n                name.push({ specval: nameval[1] });\n              }\n            } else {\n              specMap[nameval[0]] = [{ specval: nameval[1] }];\n            }\n          }\n        });\n      });\n      var idx = 0;\n      for (var key in specMap) {\n        _this.skuList.push({ name: key, vals: specMap[key], idx: idx++ });\n      }\n      this.caluSku(_this.skuList, 'renderEdit');\n    },\n    sortNum: function sortNum(a, b) {\n      return a - b;\n    },\n    fenToYuan: function fenToYuan(val) {\n      return (parseFloat(val) / 100).toFixed(2);\n    },\n    deepCopyArr: function deepCopyArr(arr) {\n      return JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(arr));\n    },\n    caluSku: function caluSku(skuList, skuOpt) {\n      var $this = this;\n      var _this = this.specs;\n      _this.skuList = skuList;\n      _this.skuTab = [];\n\n      _this.skuList.forEach(function (item, i) {\n        _this.skuTab[i] = {};\n        _this.skuTab[i].name = item.name;\n        _this.skuTab[i].vals = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(item.vals));\n      });\n      _this.sortSkuList = $this.deepCopyArr(_this.skuTab);\n\n      var tablen = _this.skuTab.length;\n\n      var j0 = tablen - 1;\n      var all = 1;\n      while (j0 > -1) {\n        var inj = _this.skuTab[j0].vals.length;\n        all = all * inj;\n        j0--;\n      }\n\n      var span = 36;\n\n      for (var i = 0; i < tablen; i++) {\n        var _item = _this.skuTab[i];\n        var len2 = _item.vals.length;\n\n        if (i === 0) {\n          _item.span = all * span / len2;\n        } else {\n          _item.span = _this.skuTab[i - 1].span / len2;\n          var prevlen = _this.skuTab[i - 1].vals.length;\n          var arr = [];\n          for (var j = 0; j < prevlen; j++) {\n            for (var m = 0; m < len2; m++) {\n              arr.push(_item.vals[m]);\n            }\n          }\n          _item.vals = arr;\n        }\n        __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(_this.skuTab, i, _item);\n      }\n      if (tablen === 0) {\n        _this.skuOpt1 = {};\n        _this.skuOpt2 = {};\n        $this.$emit('skuToParent', _this);\n        return;\n      }\n\n      var lastv = _this.skuTab[tablen - 1];\n      var arr2 = [];\n      var len3 = lastv.vals.length;\n      for (var _m = 0; _m < len3; _m++) {\n        lastv.vals[_m].opt = '';\n        lastv.vals[_m].productSpecNums = [{ price: '', startNum: '' }];\n        arr2.push(lastv.vals[_m]);\n      }\n      lastv.vals = arr2;\n      __WEBPACK_IMPORTED_MODULE_5_vue__[\"default\"].set(_this.skuTab, tablen - 1, lastv);\n\n      var lastarr = '';\n      var sku1 = _this.sortSkuList[0];\n      var sku2 = _this.sortSkuList[1];\n      var sku3 = _this.sortSkuList[2];\n      var item = sku1.vals;\n      for (var _m2 = 0, _len3 = item.length; _m2 < _len3; _m2++) {\n        if (!sku2) {\n          lastarr = sku1.name + ':' + item[_m2].specval;\n          sku1.vals[0].strval ? sku1.vals[0].strval.push(lastarr) : sku1.vals[0].strval = [lastarr];\n          continue;\n        }\n        var item2 = sku2.vals;\n        for (var m2 = 0, _len4 = item2.length; m2 < _len4; m2++) {\n          if (!sku3) {\n            lastarr = [sku1.name + ':' + item[_m2].specval, sku2.name + ':' + item2[m2].specval].join(';');\n            sku2.vals[0].strval ? sku2.vals[0].strval.push(lastarr) : sku2.vals[0].strval = [lastarr];\n            continue;\n          }\n          var item3 = sku3.vals;\n          for (var m3 = 0, len4 = item3.length; m3 < len4; m3++) {\n            lastarr = [sku1.name + ':' + item[_m2].specval, sku2.name + ':' + item2[m2].specval, sku3.name + ':' + item3[m3].specval].join(';');\n            if (sku3.vals[0].strval) {\n              sku3.vals[0].strval.push(lastarr);\n            } else {\n              sku3.vals[0].strval = [lastarr];\n            }\n          }\n        }\n      }\n\n      var sortdata = _this.sortSkuList[_this.sortSkuList.length - 1].vals[0].strval;\n      if (skuOpt === 'del') {\n        var optdata = _this.skuOpt2.vals;\n        var copyopt = $this.deepCopyArr(optdata);\n\n        if (!optdata[0].strval) {\n          $this.copyTab(lastv);\n        } else {\n          var judgeOldNew = function judgeOldNew(old) {\n            var flag = false;\n            var curr = '';\n            for (var _m3 = 0, len = sortdata.length; _m3 < len; _m3++) {\n              var ad = sortdata[_m3].split(';');\n              var _all = 0;\n              for (var _i = 0, _len5 = ad.length; _i < _len5; _i++) {\n                if (old.indexOf(ad[_i]) !== -1) {\n                  _all++;\n                }\n              }\n              if (_all === ad.length) {\n                curr = sortdata[_m3];\n                flag = true;\n                break;\n              }\n            }\n            return [flag, curr];\n          };\n          for (var _i2 = copyopt.length - 1; _i2 > -1; _i2--) {\n            var itv = copyopt[_i2];\n            var rest = judgeOldNew(itv.strval);\n\n            if (!sortdata.includes(itv.strval)) {\n              _this.skuOpt1.vals[_i2].opt = '';\n              _this.skuOpt2.vals[_i2].opt = '';\n              _this.skuOpt2.vals[_i2].productSpecNums = [{ price: '', startNum: '' }];\n              _this.skuOpt2.vals[_i2].strval = rest[1];\n            }\n\n            if (!sortdata.includes(itv.strval) && !rest[0] && copyopt.length !== sortdata.length) {\n              _this.skuOpt2.vals.splice(_i2, 1);\n              _this.skuOpt1.vals.splice(_i2, 1);\n            }\n          }\n          if (_this.sortSkuList.length === 1 && _this.skuOpt1.vals.length === 0) {\n            $this.copyTab(lastv);\n          }\n        }\n      }\n\n      if (skuOpt === 'doedit') {\n        if (!_this.skuOpt1.vals) {\n          $this.copyTab(lastv);\n          var _optdata = _this.skuOpt2.vals;\n          _optdata.forEach(function (itv, idx) {\n            _optdata[idx].strval = sortdata[idx];\n          });\n        } else {\n          var copysku0 = $this.deepCopyArr(_this.skuOpt1);\n          var copysku1 = $this.deepCopyArr(_this.skuOpt2);\n\n          $this.copyTab(lastv);\n          var optdataNEW = _this.skuOpt2.vals;\n          optdataNEW.forEach(function (itv, idx) {\n            optdataNEW[idx].strval = sortdata[idx];\n          });\n\n          for (var _i3 = 0, len = copysku1.vals.length; _i3 < len; _i3++) {\n            for (var _j4 = 0, _len6 = _this.skuOpt2.vals.length; _j4 < _len6; _j4++) {\n              var curr = _this.skuOpt2.vals[_j4];\n              var old = copysku1.vals[_i3];\n              if (curr.strval === old.strval) {\n                __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(curr, old);\n                _this.skuOpt1.vals[_j4] = copysku0.vals[_i3];\n              }\n            }\n          }\n        }\n      }\n\n      if (skuOpt === 'renderEdit') {\n        $this.copyTab(lastv);\n\n        var _optdata2 = _this.skuOpt2.vals;\n        _optdata2.forEach(function (itv, idx) {\n          _optdata2[idx].strval = sortdata[idx];\n        });\n        $this.editSpec.forEach(function (item, index) {\n          _this.skuOpt2.vals.forEach(function (opt2, index2) {\n            if (opt2.strval === item.specName || opt2.strval + ';' === item.specName) {\n              opt2.opt = $this.fenToYuan(item.specPrice);\n              _this.skuOpt1.vals[index2].opt = item.invenory;\n\n              var nums = $this.deepCopyArr(item.productSpecNums);\n              if (nums.length === 0) {\n                opt2.productSpecNums = [{ price: '', startNum: '' }];\n              } else {\n                nums.forEach(function (data) {\n                  data.price = $this.fenToYuan(data.price);\n                });\n                opt2.productSpecNums = nums;\n                var intervArr = item.priceInterval.split('~');\n                var interv = Number(intervArr[0]).toFixed(2) + '~' + Number(intervArr[1]).toFixed(2);\n                opt2.opt = interv;\n                opt2.specNumSpan = interv;\n              }\n            }\n          });\n        });\n        $this.priceUnitSku = $this.editSpec[0].priceUnit;\n      }\n\n      this.isSkuEdit = false;\n\n      _this.specTrWid = 100 / (_this.skuTab.length + 2) + '%';\n      $this.$emit('skuToParent', _this);\n    },\n    copyTab: function copyTab(lastv) {\n      var objs = { vals: this.deepCopyArr(lastv.vals), span: lastv.span, name: lastv.name };\n      this.specs.skuOpt1 = this.deepCopyArr(objs);\n      this.specs.skuOpt2 = this.deepCopyArr(objs);\n    },\n    unique: function unique(arr) {\n      arr.sort();\n      var res = [arr[0]];\n      for (var i = 1; i < arr.length; i++) {\n        if (arr[i] !== res[res.length - 1]) {\n          res.push(arr[i]);\n        }\n      }\n      return res;\n    },\n    stockIsEmp: function stockIsEmp() {\n      var vals = this.specs.skuOpt1.vals;\n      var arr = 0;\n      for (var i = 0, len = vals.length; i < len; i++) {\n        if (vals[i].opt !== '') {\n          arr++;\n        }\n      }\n      if (arr) {\n        this.chkAllDisabld = false;\n      } else {\n        this.chkAllDisabld = true;\n      }\n    }\n  },\n  computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapGetters */])({}),\n  created: function created() {\n    var _this4 = this;\n\n    __WEBPACK_IMPORTED_MODULE_3__api_productApi__[\"a\" /* default */].getFreight().then(function (res) {\n      _this4.freightList = res.data.data;\n    });\n    __WEBPACK_IMPORTED_MODULE_4__api_orderLogisticsAPI__[\"a\" /* default */].getZhouAndCountry().then(function (res) {\n      _this4.$store.commit('CACHE_ZHOUS', res.data.data);\n    });\n    if (this.$route.params.isback === 'true') {\n      this.isSkuEdit = false;\n    }\n    this.renderSku();\n  },\n\n  watch: {\n    sameWholeNum: function sameWholeNum() {\n      if (this.sameWholeNum) {\n        var v = this.specs.skuOpt1.vals;\n        var firstnotnull = '';\n        for (var i = 0, len = v.length; i < len; i++) {\n          if (v[i].opt !== '' && !firstnotnull) {\n            firstnotnull = v[i].opt;\n            break;\n          }\n        }\n        for (var _i4 = 0, _len7 = v.length; _i4 < _len7; _i4++) {\n          v[_i4].opt = firstnotnull;\n        }\n      }\n    },\n    priceUnitSku: function priceUnitSku() {\n      this.form.priceUnitSku = this.priceUnitSku;\n    },\n    freightWay: function freightWay() {\n      this.form.freightWay = this.freightWay;\n    },\n    toBack: function toBack() {\n      if (this.toBack) {\n        this.$emit('skuToParent', this.specs);\n      }\n    },\n    'specs.skuOpt1.vals': function specsSkuOpt1Vals() {\n      this.stockIsEmp();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 1168:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(62)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.sku-show .el-button {\\n  position: relative;\\n}\\n.sku-show .icon-del {\\n  display: none;\\n  position: absolute;\\n  right: -5px;\\n  top: -5px;\\n}\\n.sku-show .el-button:hover .icon-del {\\n  display: block;\\n}\\n.sku-spec-tabs td {\\n  height: 30px;\\n  line-height: 30px;\\n  width: 100px;\\n  border: 1px solid #ccc;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1473:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1662)\n\nvar Component = __webpack_require__(106)(\n  /* script */\n  __webpack_require__(1134),\n  /* template */\n  __webpack_require__(1489),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\B2Bseller4.0\\\\b2b-seller4.0\\\\src\\\\views\\\\product\\\\cpnts\\\\Sku.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] Sku.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-16ee995e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-16ee995e\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 1489:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form-item', {\n    staticClass: \"sku-input\",\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"sku-tit\"\n  }, [_c('p', [_vm._v(\"SKU 规格\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"skuspec-box\",\n    class: {\n      'skuspec-no': (!_vm.specs.skuInputs.length && !_vm.specs.skuList.length)\n    }\n  }, [_c('div', {\n    staticClass: \"spec-input\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isSkuEdit),\n      expression: \"isSkuEdit\"\n    }],\n    staticClass: \"spec-input-inner\"\n  }, [_c('el-input', {\n    staticClass: \"ui-name input-s\",\n    attrs: {\n      \"placeholder\": \"规格名，如“Size”\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.removeSign('specname')\n      }\n    },\n    model: {\n      value: (_vm.specs.specname),\n      callback: function($$v) {\n        _vm.specs.specname = $$v\n      },\n      expression: \"specs.specname\"\n    }\n  }), _vm._v(\" \"), _c('em', [_vm._v(\" : \")]), _vm._v(\" \"), _vm._l((_vm.specs.skuInputs), function(v, index) {\n    return _c('el-input', {\n      key: index,\n      staticClass: \"input-s\",\n      attrs: {\n        \"placeholder\": v.placed,\n        \"index\": index\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.removeSign(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuInputs[index].specval),\n        callback: function($$v) {\n          _vm.specs.skuInputs[index].specval = $$v\n        },\n        expression: \"specs.skuInputs[index].specval\"\n      }\n    })\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.moreSkuVal\n    }\n  }, [_c('i', {\n    staticClass: \"icon-addcir\"\n  })])], 2), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isSkuEdit),\n      expression: \"isSkuEdit\"\n    }],\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveSku\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _vm._l((_vm.specs.skuList), function(v, vindex) {\n    return _c('div', {\n      staticClass: \"spec-show\",\n      attrs: {\n        \"index\": vindex\n      }\n    }, [_c('label', [_vm._v(_vm._s(v.name) + \" : \")]), _vm._v(\" \"), _vm._l((v.vals), function(data, index) {\n      return _c('span', {\n        key: index,\n        staticClass: \"show-close\",\n        attrs: {\n          \"index\": index\n        }\n      }, [_vm._v(_vm._s(data.specval) + \"\\n            \"), _c('i', {\n        staticClass: \"icon-remove2\",\n        on: {\n          \"click\": function($event) {\n            _vm.skuShowDel(vindex, index)\n          }\n        }\n      })])\n    }), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.skuEdit(vindex)\n        }\n      }\n    }, [_vm._v(\"编辑\")])], 2)\n  })], 2), _vm._v(\" \"), (_vm.specs.skuList.length < 3) ? _c('div', {\n    staticClass: \"spec-btns\"\n  }, [_c('el-button', {\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.moreSku\n    }\n  }, [_c('i', {\n    staticClass: \"icon-addthin\"\n  }), _vm._v(\"添加规格\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tip\"\n  }, [_vm._v(\"最多可添加三组规格\")])], 1) : _vm._e()])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"货币单位\",\n      \"label-width\": \"94px\",\n      \"required\": \"\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.priceUnitSku),\n      callback: function($$v) {\n        _vm.priceUnitSku = $$v\n      },\n      expression: \"priceUnitSku\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"USD\",\n      \"value\": \"USD\"\n    }\n  })], 1)], 1), _vm._v(\" \"), (_vm.specs.skuTab.length) ? _c('el-form-item', {\n    staticClass: \"sku-spec-tab\",\n    attrs: {\n      \"label\": \"\",\n      \"id\": \"specTab\"\n    }\n  }, [_vm._l((_vm.specs.skuTab), function(v, vindex) {\n    return _c('ul', {\n      staticClass: \"sku-spec-tr clearfix\",\n      style: ({\n        'width': _vm.specs.specTrWid\n      })\n    }, [_c('li', {\n      staticClass: \"tab-header\"\n    }, [_vm._v(_vm._s(v.name))]), _vm._v(\" \"), _vm._l((v.vals), function(data, index) {\n      return _c('li', {\n        style: ({\n          'height': v.span + 'px',\n          'line-height': v.span + 'px'\n        }),\n        attrs: {\n          \"title\": data.specval\n        }\n      }, [_vm._v(_vm._s(data.specval))])\n    })], 2)\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"sku-spec-tr clearfix\",\n    style: ({\n      'width': _vm.specs.specTrWid\n    })\n  }, [_c('li', {\n    staticClass: \"tab-header\"\n  }, [_c('span', [_vm._v(\"\\n          库存 (\"), (_vm.unitMap) ? _c('i', [_vm._v(_vm._s(_vm.unitMap[_vm.form.productUnitEn]))]) : _vm._e(), _vm._v(\")\"), _c('el-checkbox', {\n    staticClass: \"pos\",\n    attrs: {\n      \"disabled\": _vm.chkAllDisabld\n    },\n    model: {\n      value: (_vm.sameWholeNum),\n      callback: function($$v) {\n        _vm.sameWholeNum = $$v\n      },\n      expression: \"sameWholeNum\"\n    }\n  }), _vm._v(\"  全部相同\\n        \")], 1)]), _vm._v(\" \"), _vm._l((_vm.specs.skuOpt1.vals), function(data, index) {\n    return _c('li', {\n      key: index,\n      style: ({\n        'height': _vm.specs.skuOpt1.span + 'px',\n        'line-height': _vm.specs.skuOpt1.span + 'px'\n      }),\n      attrs: {\n        \"index\": index\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"maxlength\": 6\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.validInvent(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuOpt1.vals[index].opt),\n        callback: function($$v) {\n          _vm.specs.skuOpt1.vals[index].opt = $$v\n        },\n        expression: \"specs.skuOpt1.vals[index].opt\"\n      }\n    })], 1)\n  })], 2), _vm._v(\" \"), _c('ul', {\n    staticClass: \"sku-spec-tr clearfix\",\n    style: ({\n      'width': _vm.specs.specTrWid\n    })\n  }, [_c('li', {\n    staticClass: \"tab-header\"\n  }, [_c('span', [_vm._v(\"\\n          单价 (\" + _vm._s(_vm.priceMap[_vm.form.priceUnitSku]) + \")\\n        \")])]), _vm._v(\" \"), _vm._l((_vm.specs.skuOpt2.vals), function(data, index) {\n    return _c('li', {\n      key: index,\n      style: ({\n        'height': _vm.specs.skuOpt2.span + 'px',\n        'line-height': _vm.specs.skuOpt2.span + 'px'\n      }),\n      attrs: {\n        \"index\": index\n      }\n    }, [_c('el-input', {\n      staticClass: \"red-text\",\n      attrs: {\n        \"readonly\": data.specNumSpan != '' && data.specNumSpan != null\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.validPrice(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuOpt2.vals[index].opt),\n        callback: function($$v) {\n          _vm.specs.skuOpt2.vals[index].opt = $$v\n        },\n        expression: \"specs.skuOpt2.vals[index].opt\"\n      }\n    }), _vm._v(\" \"), _c('el-popover', {\n      attrs: {\n        \"placement\": \"bottom-end\",\n        \"width\": \"403\",\n        \"height\": \"81\",\n        \"popper-class\": \"sku-pop\",\n        \"trigger\": \"click\"\n      }\n    }, [_c('h6', [_vm._v(\"批发价区间 \"), _c('i', {\n      staticClass: \"red-tip\"\n    }, [_vm._v(_vm._s(_vm.specs.skuOpt2.vals[index].specNumSpan))])]), _vm._v(\" \"), _c('ul', [_c('li', {\n      staticClass: \"tab-header\"\n    }, [_c('span', [_vm._v(\"起订量(\"), (_vm.unitMap) ? _c('i', [_vm._v(_vm._s(_vm.unitMap[_vm.form.productUnitEn]))]) : _vm._e(), _vm._v(\")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"价格\")])]), _vm._v(\" \"), _c('li', {}, [_c('ul', {\n      staticClass: \"num-price-list\"\n    }, [_vm._l((_vm.specs.skuOpt2.vals[index].productSpecNums), function(muld, idx) {\n      return _c('li', {\n        attrs: {\n          \"index\": idx\n        }\n      }, [_c('label', [_vm._v(\"≥ \")]), _c('el-input', {\n        attrs: {\n          \"maxlength\": 6\n        },\n        on: {\n          \"blur\": function($event) {\n            _vm.validStart(index, idx)\n          }\n        },\n        model: {\n          value: (data.productSpecNums[idx].startNum),\n          callback: function($$v) {\n            data.productSpecNums[idx].startNum = $$v\n          },\n          expression: \"data.productSpecNums[idx].startNum\"\n        }\n      }), _vm._v(\" \"), _c('hr', {\n        staticClass: \"hr\"\n      }), _vm._v(\" \"), _c('label', [_vm._v(\"USD: \")]), _c('el-input', {\n        attrs: {\n          \"maxlength\": 7\n        },\n        on: {\n          \"blur\": function($event) {\n            _vm.showPriceSpan(index, idx)\n          }\n        },\n        model: {\n          value: (data.productSpecNums[idx].price),\n          callback: function($$v) {\n            data.productSpecNums[idx].price = $$v\n          },\n          expression: \"data.productSpecNums[idx].price\"\n        }\n      }), _vm._v(\" \"), (idx) ? _c('el-button', {\n        attrs: {\n          \"type\": \"text\"\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.deleteNumSku(index, idx)\n          }\n        }\n      }, [_vm._v(\" 删除\")]) : _vm._e()], 1)\n    }), _vm._v(\" \"), (_vm.specs.skuOpt2.vals[index].productSpecNums.length < 4) ? _c('li', [_c('el-button', {\n      staticClass: \"add-span\",\n      attrs: {\n        \"type\": \"text\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addMPriceNum(index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"icon-addcir\"\n    }), _vm._v(\"新增价格区间\\n                      \")]), _vm._v(\" \"), _c('span', {\n      staticClass: \"tip\"\n    }, [_vm._v(\"（最多设置4个价格区间）\")])], 1) : _vm._e()], 2)])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"name-wrapper\",\n      slot: \"reference\"\n    }, [_c('a', {\n      staticClass: \"buymulti-flag\",\n      attrs: {\n        \"href\": \"javascript:;\"\n      }\n    }, [_vm._v(\"批\")])])])], 1)\n  })], 2)], 2) : _vm._e(), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"freight-box\",\n    attrs: {\n      \"label\": \"运费计算方式\",\n      \"label-width\": \"122px\",\n      \"prop\": \"freightBear\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"0\"\n    },\n    model: {\n      value: (_vm.form.freightBear),\n      callback: function($$v) {\n        _vm.form.freightBear = $$v\n      },\n      expression: \"form.freightBear\"\n    }\n  }, [_vm._v(\"买家承担运费\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.form.freightBear),\n      callback: function($$v) {\n        _vm.form.freightBear = $$v\n      },\n      expression: \"form.freightBear\"\n    }\n  }, [_vm._v(\"卖家承担运费\")]), _vm._v(\" \"), (_vm.form.freightBear == '0') ? _c('div', {\n    staticClass: \"freight-buyer\"\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"0\"\n    },\n    model: {\n      value: (_vm.freightWay),\n      callback: function($$v) {\n        _vm.freightWay = $$v\n      },\n      expression: \"freightWay\"\n    }\n  }, [_vm._v(\"统一运费\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-wrap\"\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.freightPrice),\n      callback: function($$v) {\n        _vm.form.freightPrice = $$v\n      },\n      expression: \"form.freightPrice\"\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"unit-input\"\n  }, [_c('i', [_vm._v(\"|\")]), _vm._v(_vm._s(_vm.priceMap[_vm.form.priceUnitSku]))])], 1)], 1) : _vm._e(), _vm._v(\" \"), (_vm.form.freightBear == '0') ? _c('div', {\n    staticClass: \"freight-buyer\"\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.freightWay),\n      callback: function($$v) {\n        _vm.freightWay = $$v\n      },\n      expression: \"freightWay\"\n    }\n  }, [_vm._v(\"运费模板\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"visible-change\": _vm.getFreAgain\n    },\n    model: {\n      value: (_vm.form.freightTemplate),\n      callback: function($$v) {\n        _vm.form.freightTemplate = $$v\n      },\n      expression: \"form.freightTemplate\"\n    }\n  }, _vm._l((_vm.freightList), function(place) {\n    return _c('el-option', {\n      key: place.id,\n      attrs: {\n        \"label\": place.name,\n        \"value\": place.id\n      }\n    })\n  })), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"javascript:;\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.toAddr()\n      }\n    }\n  }, [_c('el-button', {\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"新增运费模板\")])], 1)], 1) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-16ee995e\", module.exports)\n  }\n}\n\n/***/ }),\n\n/***/ 1662:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1168);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(105)(\"49c3153e\", content, false);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sku.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sku.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 556:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__ = __webpack_require__(13);\n\n\n\nvar orderLogisticsAPI = {\n  getLogisticsTmpl: function getLogisticsTmpl(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/list';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  getZhouAndCountry: function getZhouAndCountry(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/config/continent/listwithcountrys';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  deleteTmpl: function deleteTmpl(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/delete';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  updateFreight: function updateFreight(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/update';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].post(postUrl, parame);\n  },\n  addFreight: function addFreight(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/add';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].post(postUrl, parame);\n  },\n  setDefaultTmpl: function setDefaultTmpl(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/setdefault';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  getLogisticsDetail: function getLogisticsDetail(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/logistics/freighttemplate/detail';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  isBindAccount: function isBindAccount(parame) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/capital/paypal/querydetail';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, parame);\n  },\n  getStatisticsData: function getStatisticsData() {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/capital/shop/statistics';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl);\n  },\n  bindAccount: function bindAccount() {\n    var lost = location.protocol + '//' + window.location.host + '/#/back/2/';\n    var pramerobj = { callbackHtml: lost };\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/capital/paypal/binding';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, pramerobj);\n  },\n  removeAccount: function removeAccount() {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/capital/paypal/remove';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].post(postUrl);\n  },\n  getTransactionList: function getTransactionList(param) {\n    var postUrl = \"https://server.onloon.com.cn\" + '/bshop/capital/shop/flowpage';\n    return __WEBPACK_IMPORTED_MODULE_0__common_HttpUtil__[\"a\" /* default */].get(postUrl, param);\n  }\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (orderLogisticsAPI);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/80.ef24539a1530a2bca39b.js","<template>\r\n  <div>\r\n    <el-form-item label=\"\" class=\"sku-input\">\r\n      <div class=\"sku-tit\"><p>SKU 规格</p></div>\r\n      <div class=\"skuspec-box\" :class=\"{'skuspec-no':(!specs.skuInputs.length&&!specs.skuList.length)}\">\r\n        <div class=\"spec-input\"><!--v-if=\"specs.skuInputs.length\"-->\r\n          <div class=\"spec-input-inner\" v-show=\"isSkuEdit\">\r\n            <el-input placeholder=\"规格名，如“Size”\" v-model=\"specs.specname\" class=\"ui-name input-s\" @blur=\"removeSign('specname')\">\r\n            </el-input>\r\n            <em> : </em>\r\n            <el-input v-for=\"(v,index) in specs.skuInputs\" :placeholder=\"v.placed\" v-model=\"specs.skuInputs[index].specval\" :index=\"index\" :key=\"index\" class=\"input-s\" @blur=\"removeSign(index)\">\r\n            </el-input>\r\n            <el-button @click=\"moreSkuVal\" type=\"text\"><i class=\"icon-addcir\"></i></el-button>\r\n          </div>\r\n          <el-button  v-show=\"isSkuEdit\" @click=\"saveSku\" type=\"primary\" class=\"btn-blue\">保存</el-button>\r\n          <div v-for=\"(v,vindex) in specs.skuList\" class=\"spec-show\" :index=\"vindex\">\r\n            <label>{{v.name}} : </label>\r\n            <span v-for=\"(data,index) in v.vals\" :index=\"index\" :key=\"index\" class=\"show-close\">{{data.specval}}\r\n              <i class=\"icon-remove2\" @click=\"skuShowDel(vindex,index)\"></i>\r\n            </span>\r\n            <el-button type=\"text\"  @click=\"skuEdit(vindex)\">编辑</el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"spec-btns\" v-if=\"specs.skuList.length < 3\">\r\n            <el-button @click=\"moreSku\" type=\"primary\" class=\"btn-blue\"><i class=\"icon-addthin\"></i>添加规格</el-button>\r\n            <span class=\"tip\">最多可添加三组规格</span>\r\n        </div>\r\n      </div> \r\n    </el-form-item>\r\n    <el-form-item label=\"货币单位\" label-width=\"94px\" required>\r\n      <el-select v-model=\"priceUnitSku\" placeholder=\"请选择\">\r\n        <el-option label=\"USD\" value=\"USD\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"\" class=\"sku-spec-tab\" id=\"specTab\" v-if=\"specs.skuTab.length\">\r\n      <ul v-for=\"(v,vindex) in specs.skuTab\" class=\"sku-spec-tr clearfix\" v-bind:style=\"{'width': specs.specTrWid}\">\r\n        <li class=\"tab-header\">{{v.name}}</li>\r\n        <li v-for=\"(data,index) in v.vals\" v-bind:style=\"{'height': v.span+'px','line-height':v.span+'px'}\" :title=\"data.specval\">{{data.specval}}</li>\r\n      </ul>\r\n      <ul class=\"sku-spec-tr clearfix\"  v-bind:style=\"{'width': specs.specTrWid}\">\r\n        <li class=\"tab-header\">\r\n          <span>\r\n            库存 (<i v-if=\"unitMap\">{{unitMap[form.productUnitEn]}}</i>)<el-checkbox class=\"pos\" v-model=\"sameWholeNum\" :disabled=\"chkAllDisabld\"></el-checkbox>  全部相同\r\n          </span>\r\n        </li>\r\n        <li v-for=\"(data,index) in specs.skuOpt1.vals\" :index=\"index\" :key=\"index\" v-bind:style=\"{'height': specs.skuOpt1.span+'px','line-height':specs.skuOpt1.span+'px'}\">\r\n\r\n          <el-input  :maxlength=6 v-model=\"specs.skuOpt1.vals[index].opt\" @blur=\"validInvent(index)\"></el-input>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"sku-spec-tr clearfix\"  v-bind:style=\"{'width': specs.specTrWid}\">\r\n        <li class=\"tab-header\">\r\n          <span>\r\n            单价 ({{priceMap[form.priceUnitSku]}})\r\n          </span>\r\n        </li>\r\n        <li v-for=\"(data,index) in specs.skuOpt2.vals\" :index=\"index\" :key=\"index\" v-bind:style=\"{'height': specs.skuOpt2.span+'px','line-height':specs.skuOpt2.span+'px'}\">\r\n\r\n          <el-input v-model=\"specs.skuOpt2.vals[index].opt\" class=\"red-text\" @blur=\"validPrice(index)\" :readonly=\"data.specNumSpan!=''&&data.specNumSpan!=null\"></el-input>\r\n          <el-popover\r\n              placement=\"bottom-end\"\r\n              width=\"403\"\r\n              height=\"81\"\r\n              popper-class=\"sku-pop\"\r\n              trigger=\"click\">\r\n                <h6>批发价区间 <i class=\"red-tip\">{{specs.skuOpt2.vals[index].specNumSpan}}</i></h6>\r\n                <ul>\r\n                  <li class=\"tab-header\"><span>起订量(<i v-if=\"unitMap\">{{unitMap[form.productUnitEn]}}</i>)</span> <span>价格</span></li>\r\n                  <li class=\"\">\r\n                    <ul class=\"num-price-list\">\r\n                      <li v-for=\"(muld,idx) of specs.skuOpt2.vals[index].productSpecNums\" :index=\"idx\">\r\n                        <label>≥ </label><el-input :maxlength=6 v-model=\"data.productSpecNums[idx].startNum\" @blur=\"validStart(index, idx)\"></el-input>\r\n                        <hr class=\"hr\">\r\n                        <label>USD: </label><el-input :maxlength=7 v-model=\"data.productSpecNums[idx].price\" @blur=\"showPriceSpan(index, idx)\"></el-input>\r\n                        <el-button v-if=\"idx\" @click=\"deleteNumSku(index, idx)\" type=\"text\"> 删除</el-button>\r\n                      </li>\r\n                      <li v-if=\"specs.skuOpt2.vals[index].productSpecNums.length < 4\">\r\n                        <el-button @click=\"addMPriceNum(index)\" type=\"text\" class=\"add-span\">\r\n                          <i class=\"icon-addcir\"></i>新增价格区间\r\n                        </el-button>\r\n                        <span class=\"tip\">（最多设置4个价格区间）</span>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </ul>\r\n                <!-- <div x-arrow=\"\" class=\"popper__arrow\" style=\"left: 0px;\"></div> -->\r\n                <div slot=\"reference\" class=\"name-wrapper\">\r\n                  <a href=\"javascript:;\" class=\"buymulti-flag\">批</a>\r\n                </div>\r\n          </el-popover>\r\n        </li>\r\n      </ul>\r\n    </el-form-item>\r\n    <el-form-item label=\"运费计算方式\" label-width=\"122px\" class=\"freight-box\" prop=\"freightBear\">\r\n      <el-radio label=\"0\" v-model=\"form.freightBear\">买家承担运费</el-radio>\r\n      <el-radio label=\"1\" v-model=\"form.freightBear\">卖家承担运费</el-radio>\r\n      <div class=\"freight-buyer\" v-if=\"form.freightBear=='0'\">\r\n        <el-radio label=\"0\" v-model=\"freightWay\">统一运费</el-radio>\r\n        <div class=\"input-wrap\">\r\n          <el-input v-model=\"form.freightPrice\"></el-input>\r\n          <i class=\"unit-input\"><i>|</i>{{priceMap[form.priceUnitSku]}}</i>\r\n        </div>\r\n      </div>\r\n      <div class=\"freight-buyer\" v-if=\"form.freightBear=='0'\">\r\n        <el-radio label=\"1\" v-model=\"freightWay\">运费模板</el-radio>\r\n        <el-select v-model=\"form.freightTemplate\" placeholder=\"请选择\" @visible-change=\"getFreAgain\">\r\n          <el-option v-for=\"place in freightList\" :key=\"place.id\" :label=\"place.name\" :value=\"place.id\">\r\n          </el-option>\r\n        </el-select>\r\n        <a @click=\"toAddr()\" href=\"javascript:;\"><el-button type=\"primary\" class=\"btn-blue\">新增运费模板</el-button></a>\r\n      </div>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport proApi from '@/api/productApi'\r\nimport orderLogisticsAPI from '@/api/orderLogisticsAPI'\r\n// import { VueEditor } from 'vue2-editor'\r\nimport Vue from 'vue'\r\nexport default {\r\n  name: 'ProductModify',\r\n  props: ['form', 'editSpec', 'unitMap', 'toBack', 'specback'],\r\n  data () {\r\n    return {\r\n      specs: {\r\n        skuList: [],\r\n        skuInputs: [],\r\n        productSpecs: {},\r\n        specname: '',\r\n        skuTab: [],\r\n        skuOpt: [],\r\n        skuOpt1: {},\r\n        skuOpt2: {},\r\n        sortSkuList: [],\r\n        specTrWid: '30%'\r\n      },\r\n      priceUnitSku: 'USD',\r\n      positiveInt: /^[1-9]\\d*$/, // 正整数\r\n      spanNum: /^\\d{1,}(~\\d{1,})?$/, // 区间数字\r\n      freightWay: '0',\r\n      isSkuEdit: true, // 显示规格输入框\r\n      sameWholeNum: false, // 库存全部相同\r\n      popov: [],\r\n      defaultInputs: [\r\n        {'placed': '规格值，如“S”', 'specval': ''},\r\n        {'placed': '规格值，如“M”', 'specval': ''},\r\n        {'placed': '规格值，如“L”', 'specval': ''},\r\n        {'placed': '规格值，如“XL”', 'specval': ''}],\r\n      // unitMap: {},\r\n      priceMap: {'USD': '美元'},\r\n      freightList: [], // 运费模板列表\r\n      chkAllDisabld: true\r\n      // rules: {\r\n      //   freightBear: [\r\n      //     { required: true, message: '请', trigger: 'change' }\r\n      //   ]\r\n      // }\r\n    }\r\n  },\r\n  components: {},\r\n  methods: {\r\n    // 新建运费\r\n    toAddr () {\r\n      this.$store.commit('SET_FROM_PAGE', 'new', 0)\r\n      this.$store.commit('SET_LOGISTICS_INFO', {})\r\n      window.open('#/logisticsSetAddress')\r\n      // this.$router.push({ path: '/logisticsSetAddress' })\r\n    },\r\n    // 去除特殊符号\r\n    removeSign (flag) {\r\n      if (flag === 'specname') {\r\n        let name = this.specs.specname\r\n        Vue.set(this.specs, 'specname', this.dealSign(name))\r\n      } else {\r\n        let name = this.specs.skuInputs[flag].specval\r\n        Vue.set(this.specs.skuInputs[flag], 'specval', this.dealSign(name))\r\n      }\r\n    },\r\n    dealSign (name) {\r\n      if (name.indexOf(':') !== -1 || name.indexOf(';') !== -1) {\r\n        name = name.replace(/:/g, '').replace(/;/g, '')\r\n      }\r\n      return name\r\n    },\r\n    // 验证库存\r\n    validInvent (index) {\r\n      let p = this.specs.skuOpt1.vals[index].opt\r\n      if (isNaN(p) || p < 0 || !this.positiveInt.test(p)) {\r\n        this.$message.error('库存必须为大于0的正整数')\r\n        this.specs.skuOpt1.vals[index].opt = ''\r\n        Vue.set(this.specs.skuOpt1, 'vals', this.specs.skuOpt1.vals)\r\n      }\r\n      this.stockIsEmp()\r\n    },\r\n    // 验证价格\r\n    validPrice (index) {\r\n      let p = this.specs.skuOpt2.vals[index].opt\r\n      // let span = p.split('~')\r\n      if (p.indexOf('~') === -1 && (isNaN(p) || p < 0 || p > 10000000)) {\r\n        this.$message.error('单价必须为0-10000000之间的数字')\r\n        this.specs.skuOpt2.vals[index].opt = ''\r\n        Vue.set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals)\r\n      }\r\n      // if (p.indexOf('~') !== -1 && !this.spanNum.test(p)) {\r\n      //   this.$message.error('区间价格有误')\r\n      //   this.specs.skuOpt[vindex].vals[index].opt = ''\r\n      //   Vue.set(this.specs.skuOpt, vindex, this.specs.skuOpt[vindex])\r\n      // }\r\n    },\r\n    // 按SKU报价\r\n    moreSku () {\r\n      this.isSkuEdit = true\r\n      this.specs.specname = ''\r\n      this.specs.skuInputs = this.deepCopyArr(this.defaultInputs)\r\n    },\r\n    // 添加规格值input\r\n    moreSkuVal () {\r\n      this.specs.skuInputs.push({'placed': '规格值', 'specval': ''})\r\n    },\r\n    // 删除保存后的规格值\r\n    skuShowDel (vindex, index) {\r\n      let sku1 = this.specs.skuList[vindex]\r\n      sku1['vals'].splice(index, 1)\r\n      if (!sku1.vals.length) { // 删到没用属性值\r\n        this.specs.skuList.splice(vindex, 1)\r\n      }\r\n      this.caluSku(this.specs.skuList, 'del')\r\n    },\r\n    // 点击编辑按钮\r\n    skuEdit (vindex) {\r\n      this.isSkuEdit = true\r\n      let list = this.specs.skuList[vindex].vals\r\n      this.specs.skuInputs = []\r\n      list.forEach((item, index) => {\r\n        let p = this.defaultInputs[index] ? this.defaultInputs[index].placed || '规格值' : '规格值'\r\n        this.specs.skuInputs.push({'placed': p, 'specval': item.specval, idx: vindex})\r\n      })\r\n      this.specs.skuList.forEach((item2, index2) => {\r\n        item2.idx = index2\r\n      })\r\n      this.specs.specname = this.specs.skuList[vindex].name\r\n      this.specs.skuList.splice(vindex, 1)\r\n      // this.caluSku(this.specs.skuList, 'del') // flag 是否保留操作列数据\r\n    },\r\n    // 临时保存规格\r\n    saveSku () {\r\n      let _this = this.specs\r\n      let isRepeat = false\r\n      let specvalNum = 0\r\n      for (let j = 0, lens = _this.skuInputs.length; j < lens; j++) {\r\n        if (!_this.skuInputs[j].specval) {\r\n          specvalNum++\r\n        }\r\n      }\r\n      if (!_this.specname) {\r\n        this.$message.error('请填写规格名')\r\n        return\r\n      }\r\n      if (specvalNum === _this.skuInputs.length) {\r\n        this.$message.error('请填写规格值')\r\n        return\r\n      }\r\n      for (let i = 0, len = _this.skuList.length; i < len; i++) {\r\n        let vals = _this.skuList[i].vals\r\n        if (_this.specname === _this.skuList[i].name) { // 当前规格名与旧规格名 重复\r\n          isRepeat = true\r\n          break\r\n        }\r\n        for (let x = 0, lenx = vals.length; x < lenx; x++) {\r\n          if (_this.specname === vals[x].specval) { // 当前规格名与旧规格值 重复\r\n            isRepeat = true\r\n            break\r\n          }\r\n          for (let j = 0, len2 = _this.skuInputs.length; j < len2; j++) {\r\n            if (_this.skuInputs[j].specval === vals[x].specval || _this.skuInputs[j].specval === _this.skuList[i].name) { // 当前规格值与旧规格值/名 重复\r\n              isRepeat = true\r\n              break\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (isRepeat) {\r\n        this.$message.error('规格请勿重复')\r\n        return\r\n      }\r\n      let inputs = []\r\n      for (let j = 0, len2 = _this.skuInputs.length; j < len2; j++) {\r\n        if (_this.skuInputs[j].specval) {\r\n          inputs.push(_this.skuInputs[j].specval)\r\n        }\r\n      }\r\n      inputs = inputs.sort()\r\n      for (let j = 0, len2 = inputs.length; j < len2 - 1; j++) {\r\n        if (inputs[j] === inputs[j + 1]) {\r\n          isRepeat = true\r\n          break\r\n        }\r\n      }\r\n      if (isRepeat) {\r\n        this.$message.error('同组规格值之间请勿重复')\r\n        return\r\n      }\r\n      let obj = {name: _this.specname, vals: []} // vals: 规格值\r\n      let skulist = []\r\n      _this.skuInputs.forEach(function (item, i) {\r\n        if (item.specval) {\r\n          obj.vals.push({'placed': item.placed, 'specval': item.specval})\r\n        }\r\n        // item.specval = ''\r\n        // i > 3 ? _this.skuInputs.splice(i, 1) : null\r\n      })\r\n      // 处理数据后置空 还原输入状态\r\n      _this.specname = ''\r\n      // 点击编辑的 保存值 按初始化顺序\r\n      if (typeof _this.skuInputs[0].idx !== 'undefined' && !isNaN(_this.skuInputs[0].idx)) {\r\n        skulist[_this.skuInputs[0].idx] = obj\r\n        _this.skuList.forEach(item => {\r\n          if (!isNaN(item.idx)) {\r\n            skulist[item.idx] = item\r\n          }\r\n        })\r\n        _this.skuList = this.deepCopyArr(skulist)\r\n      } else { // 新增一组规格\r\n        _this.skuList.push(obj)\r\n      }\r\n      _this.skuInputs = this.deepCopyArr(this.defaultInputs)\r\n      // skuList 规格显示列表\r\n      this.caluSku(_this.skuList, 'doedit')\r\n    },\r\n    // 批 新增价格区间\r\n    addMPriceNum (index) {\r\n      let list = this.specs.skuOpt2.vals[index].productSpecNums\r\n      if (list.length < 4) {\r\n        list.push({price: '', startNum: ''})\r\n        // Vue.set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals)\r\n      }\r\n    },\r\n    // 批 删除区间\r\n    deleteNumSku (index, idx) {\r\n      let list = this.specs.skuOpt2.vals[index].productSpecNums\r\n      list.splice(idx, 1)\r\n      // Vue.set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals)\r\n      this.showPriceSpan(index, idx, 'delone')\r\n    },\r\n    // 区间验证\r\n    validStart (index, idx) {\r\n      let p = this.specs.skuOpt2.vals[index]\r\n      let item = p.productSpecNums[idx]\r\n      let prev = p.productSpecNums[idx - 1]\r\n      let next = p.productSpecNums[idx + 1]\r\n      if (item.startNum === '') {\r\n        this.showPriceSpan(index, idx)\r\n        return\r\n      }\r\n      if (item.startNum < 0 || !this.positiveInt.test(item.startNum)) {\r\n        this.$message.error('起订量必须为大于0的正整数')\r\n        item.startNum = ''\r\n        // Vue.set(this.specs.skuOpt2, this.specs.skuOpt2)\r\n      }\r\n      if (prev) {\r\n        if (+item.startNum <= +prev.startNum) {\r\n          this.$message.error('起订量必须大于上一个')\r\n          item.startNum = ''\r\n          // Vue.set(this.specs.skuOpt2, this.specs.skuOpt2)\r\n        }\r\n      }\r\n      if (next && next.startNum) {\r\n        if (+item.startNum >= +next.startNum) {\r\n          this.$message.error('起订量必须小于下一个')\r\n          item.startNum = ''\r\n          // Vue.set(this.specs.skuOpt2, this.specs.skuOpt2)\r\n        }\r\n      }\r\n      this.showPriceSpan(index, idx)\r\n    },\r\n    // 生成批发价区间\r\n    showPriceSpan (index, idx, isDelone) {\r\n      let p = this.specs.skuOpt2.vals[index]\r\n      let arr = []\r\n      if (isDelone !== 'delone') { // 如果本对象是删除了\r\n        let thisprice = p.productSpecNums[idx].price\r\n        if (isNaN(thisprice) || thisprice < 0 || thisprice > 10000000) {\r\n          this.$message.error('规格单价必须为0-10000000之间的数字')\r\n          p.productSpecNums[idx].price = ''\r\n          return\r\n        }\r\n      }\r\n      p.productSpecNums.forEach((item) => {\r\n        if (item.price !== '') {\r\n          arr.push(+item.price)\r\n        }\r\n      })\r\n      // 清空批发区间\r\n      if (arr.length === 0) {\r\n        p.specNumSpan = ''\r\n      } else {\r\n        arr.sort(this.sortNum)\r\n        p.specNumSpan = arr[0] + '~' + arr.pop()\r\n      }\r\n      p.opt = p.specNumSpan\r\n      Vue.set(this.specs.skuOpt2, 'vals', this.specs.skuOpt2.vals)\r\n    },\r\n    // 点击重新加载运费列表\r\n    getFreAgain (isvisble) {\r\n      if (isvisble) {\r\n        proApi.getFreight().then(res => {\r\n          this.freightList = res.data.data\r\n        })\r\n      }\r\n    },\r\n    // 修改类目返回\r\n    renderCateBack () {\r\n      this.freightWay = this.form.freightWay\r\n      Object.assign(this.specs, this.specback)\r\n      // this.specs.skuInputs = this.deepCopyArr(this.defaultInputs)\r\n    },\r\n    // 新增渲染\r\n    renderSkuAdd () {\r\n      this.specs.skuInputs = this.deepCopyArr(this.defaultInputs)\r\n    },\r\n    // 编辑渲染\r\n    renderSku () {\r\n      let spec = this.editSpec\r\n      if (this.specback.skuInputs) { // 新增改类目返回\r\n        this.renderCateBack()\r\n        return\r\n      }\r\n      if (spec && !spec.length) { // 新增返回\r\n        this.renderSkuAdd()\r\n        return\r\n      }\r\n      this.freightWay = this.form.freightWay\r\n      let _this = this.specs\r\n      // let obj = {name: _this.specname, vals: []} // vals: 规格值\r\n      let specMap = {}\r\n      // _this.skuOpt = [{vals: []}, {vals: []}]\r\n      spec.forEach((item, index) => {\r\n        let arr = item.specName.split(';')\r\n        arr.forEach((item2) => {\r\n          if (item2) { // 处理每个 规格名：值，值\r\n            let nameval = item2.split(':')\r\n            let name = specMap[nameval[0]]\r\n            if (name && name.length) {\r\n              let isExist = false\r\n              for (let i = 0, len = name.length; i < len; i++) {\r\n                if (name[i].specval === nameval[1]) {\r\n                  isExist = true\r\n                  break\r\n                }\r\n              }\r\n              if (!isExist) {\r\n                name.push({specval: nameval[1]})\r\n              }\r\n            } else {\r\n              specMap[nameval[0]] = [{specval: nameval[1]}]\r\n            }\r\n          }\r\n        })\r\n      })\r\n      let idx = 0\r\n      for (let key in specMap) {\r\n        _this.skuList.push({name: key, vals: specMap[key], idx: idx++})\r\n      }\r\n      this.caluSku(_this.skuList, 'renderEdit')\r\n    },\r\n    sortNum (a, b) {\r\n      return a - b\r\n    },\r\n    fenToYuan (val) {\r\n      return (parseFloat(val) / 100).toFixed(2)\r\n    },\r\n    deepCopyArr (arr) {\r\n      return JSON.parse(JSON.stringify(arr))\r\n    },\r\n    // 修改/删除/编辑渲染 规格\r\n    caluSku (skuList, skuOpt) {\r\n      let $this = this\r\n      let _this = this.specs\r\n      _this.skuList = skuList\r\n      _this.skuTab = []\r\n      // skuList 复制skuTab来显示规格表\r\n      _this.skuList.forEach(function (item, i) {\r\n        _this.skuTab[i] = {}\r\n        _this.skuTab[i].name = item.name\r\n        _this.skuTab[i].vals = JSON.parse(JSON.stringify(item.vals))\r\n      })\r\n      _this.sortSkuList = $this.deepCopyArr(_this.skuTab)\r\n      // skuTab 规格表格\r\n      let tablen = _this.skuTab.length\r\n      // 第一列 高的跨度\r\n      let j0 = tablen - 1\r\n      let all = 1\r\n      while (j0 > -1) {\r\n        let inj = _this.skuTab[j0].vals.length\r\n        all = all * inj\r\n        j0--\r\n      }\r\n      // 最小高度\r\n      let span = 36\r\n      // 第一列之后的跨度计算\r\n      for (let i = 0; i < tablen; i++) {\r\n        let item = _this.skuTab[i]\r\n        let len2 = item.vals.length\r\n        // let speckv = ''\r\n        if (i === 0) {\r\n          item.span = all * span / len2\r\n        } else {\r\n          item.span = _this.skuTab[i - 1].span / len2\r\n          let prevlen = _this.skuTab[i - 1].vals.length\r\n          let arr = []\r\n          for (let j = 0; j < prevlen; j++) {\r\n            for (let m = 0; m < len2; m++) { // 处理重复specval\r\n              arr.push(item.vals[m])\r\n            }\r\n          }\r\n          item.vals = arr\r\n        }\r\n        Vue.set(_this.skuTab, i, item)\r\n      }\r\n      if (tablen === 0) { // 没有规格\r\n        // _this.skuOpt = []\r\n        _this.skuOpt1 = {}\r\n        _this.skuOpt2 = {}\r\n        $this.$emit('skuToParent', _this)\r\n        return\r\n      }\r\n      // 处理最后一列 作为操作列\r\n      let lastv = _this.skuTab[tablen - 1]\r\n      let arr2 = []\r\n      let len3 = lastv.vals.length\r\n      for (let m = 0; m < len3; m++) {\r\n        lastv.vals[m].opt = '' // 输入价格和库存\r\n        lastv.vals[m].productSpecNums = [{price: '', startNum: ''}]\r\n        arr2.push(lastv.vals[m])\r\n      }\r\n      lastv.vals = arr2\r\n      Vue.set(_this.skuTab, tablen - 1, lastv)\r\n      // 计算 操作列对应的规格值\r\n      let lastarr = ''\r\n      let sku1 = _this.sortSkuList[0]\r\n      let sku2 = _this.sortSkuList[1]\r\n      let sku3 = _this.sortSkuList[2]\r\n      let item = sku1.vals\r\n      for (let m = 0, len2 = item.length; m < len2; m++) {\r\n        if (!sku2) {\r\n          lastarr = sku1.name + ':' + item[m].specval\r\n          sku1.vals[0].strval ? sku1.vals[0].strval.push(lastarr) : sku1.vals[0].strval = [lastarr]\r\n          continue\r\n        }\r\n        let item2 = sku2.vals\r\n        for (let m2 = 0, len3 = item2.length; m2 < len3; m2++) {\r\n          if (!sku3) {\r\n            lastarr = [sku1.name + ':' + item[m].specval, sku2.name + ':' + item2[m2].specval].join(';')\r\n            sku2.vals[0].strval ? sku2.vals[0].strval.push(lastarr) : sku2.vals[0].strval = [lastarr]\r\n            continue\r\n          }\r\n          let item3 = sku3.vals\r\n          for (let m3 = 0, len4 = item3.length; m3 < len4; m3++) {\r\n            lastarr = [sku1.name + ':' + item[m].specval, sku2.name + ':' + item2[m2].specval, sku3.name + ':' + item3[m3].specval].join(';')\r\n            if (sku3.vals[0].strval) {\r\n              sku3.vals[0].strval.push(lastarr)\r\n            } else {\r\n              sku3.vals[0].strval = [lastarr]\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // 排好序的规格name值组合都放这里\r\n      let sortdata = _this.sortSkuList[_this.sortSkuList.length - 1].vals[0].strval // 新值\r\n      // 删除属性 保留原值\r\n      if (skuOpt === 'del') {\r\n        let optdata = _this.skuOpt2.vals // 旧值\r\n        let copyopt = $this.deepCopyArr(optdata)\r\n        // let copyInven = $this.deepCopyArr(_this.skuOpt1.vals)\r\n        if (!optdata[0].strval) {\r\n          $this.copyTab(lastv)\r\n        } else {\r\n          // $this.copyTab(lastv)\r\n          // sortdata [\"花花:44;发发:11\", \"花花:44;发发:22\"]\r\n          // let strarr = optdata[0].strval.split(';') // 参照的顺序[发发:22;花花:44]\r\n          // let arr3 = []\r\n          // sortdata.forEach((item) => {\r\n          //   let inner = item.split(';')\r\n          //   let arrin = []\r\n          //   inner.forEach((item1, idx1) => {\r\n          //     strarr.forEach((item2, idx2) => {\r\n          //       if (item1.split(':')[0] === item2.split(':')[0]) {\r\n          //         arrin[idx2] = inner[idx1]\r\n          //       }\r\n          //     })\r\n          //   })\r\n          //   arr3.push(arrin.join(';')) // 改顺序 [\"发发:11;花花:44\", \"发发:22;花花:44\"]\r\n          // })\r\n          // let spec = sortdata.join('-')\r\n          // sortdata ['xx:yy;','1:2;'] old:'3:4;xx:yy;7:8;'=>true\r\n          // 旧值包含新值的属性对\r\n          let judgeOldNew = function (old) {\r\n            let flag = false\r\n            let curr = ''\r\n            for (let m = 0, len = sortdata.length; m < len; m++) {\r\n              let ad = sortdata[m].split(';')\r\n              let all = 0\r\n              for (let i = 0, len2 = ad.length; i < len2; i++) {\r\n                if (old.indexOf(ad[i]) !== -1) {\r\n                  all++\r\n                }\r\n              }\r\n              if (all === ad.length) {\r\n                curr = sortdata[m]\r\n                flag = true\r\n                break\r\n              }\r\n            }\r\n            return [flag, curr]\r\n          }\r\n          for (let i = copyopt.length - 1; i > -1; i--) {\r\n            let itv = copyopt[i]\r\n            let rest = judgeOldNew(itv.strval)\r\n            // if (sortdata.includes(itv.strval)) {\r\n            //   _this.skuOpt1.vals[i] = copyInven[i]\r\n            //   _this.skuOpt2.vals[i] = itv\r\n            // }\r\n            // 旧值与新值不一样 就制空\r\n            if (!sortdata.includes(itv.strval)) {\r\n              _this.skuOpt1.vals[i].opt = ''\r\n              _this.skuOpt2.vals[i].opt = ''\r\n              _this.skuOpt2.vals[i].productSpecNums = [{price: '', startNum: ''}]\r\n              _this.skuOpt2.vals[i].strval = rest[1]\r\n            }\r\n            // 删除操作列某行条件：新值不等于旧值 并且 旧值不比新值多个属性对\r\n            if (!sortdata.includes(itv.strval) && !rest[0] && copyopt.length !== sortdata.length) {\r\n              _this.skuOpt2.vals.splice(i, 1)\r\n              _this.skuOpt1.vals.splice(i, 1)\r\n            }\r\n          }\r\n          if (_this.sortSkuList.length === 1 && _this.skuOpt1.vals.length === 0) { // 由多组 剩下一组\r\n            $this.copyTab(lastv)\r\n          }\r\n        }\r\n      }\r\n      // 编辑属性 保留原值\r\n      if (skuOpt === 'doedit') {\r\n        if (!_this.skuOpt1.vals) { // 编辑的属性是新增产品第一次添加\r\n          $this.copyTab(lastv)\r\n          let optdata = _this.skuOpt2.vals\r\n          optdata.forEach((itv, idx) => {\r\n            optdata[idx].strval = sortdata[idx]\r\n          })\r\n        } else {\r\n          // 保存好原有的值\r\n          let copysku0 = $this.deepCopyArr(_this.skuOpt1)\r\n          let copysku1 = $this.deepCopyArr(_this.skuOpt2)\r\n          // let optdata = _this.skuOpt[1].vals // 旧值\r\n          // 复制一批空白值\r\n          $this.copyTab(lastv)\r\n          let optdataNEW = _this.skuOpt2.vals\r\n          optdataNEW.forEach((itv, idx) => {\r\n            optdataNEW[idx].strval = sortdata[idx]\r\n          })\r\n          // 处理顺序\r\n          // let strarr = optdata[0].strval.split(';') // 参照的顺序[发发:22;花花:44]\r\n          // let arr3 = []\r\n          // sortdata.forEach((item) => {\r\n          //   let inner = item.split(';')\r\n          //   let arrin = []\r\n          //   inner.forEach((item1, idx1) => {\r\n          //     strarr.forEach((item2, idx2) => {\r\n          //       if (item1.split(':')[0] === item2.split(':')[0]) {\r\n          //         arrin[idx2] = inner[idx1]\r\n          //       }\r\n          //     })\r\n          //   })\r\n          //   arr3.push(arrin.join(';')) // 改顺序 [\"发发:11;花花:44\", \"发发:22;花花:44\"]\r\n          // })\r\n          // 空白值和原值比较\r\n          for (let i = 0, len = copysku1.vals.length; i < len; i++) {\r\n            for (let j = 0, len2 = _this.skuOpt2.vals.length; j < len2; j++) {\r\n              let curr = _this.skuOpt2.vals[j]\r\n              let old = copysku1.vals[i]\r\n              if (curr.strval === old.strval) {\r\n                Object.assign(curr, old)\r\n                _this.skuOpt1.vals[j] = copysku0.vals[i]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // 处理编辑的操作列传值\r\n      if (skuOpt === 'renderEdit') {\r\n        // 库存 单价的输入框\r\n        $this.copyTab(lastv)\r\n        // 把sortList处理好的值赋值给skuTab\r\n        let optdata = _this.skuOpt2.vals\r\n        optdata.forEach((itv, idx) => {\r\n          optdata[idx].strval = sortdata[idx]\r\n        })\r\n        $this.editSpec.forEach((item, index) => {\r\n          _this.skuOpt2.vals.forEach((opt2, index2) => { // 可能末尾差个分号\r\n            if (opt2.strval === item.specName || opt2.strval + ';' === item.specName) {\r\n              opt2.opt = $this.fenToYuan(item.specPrice)\r\n              _this.skuOpt1.vals[index2].opt = item.invenory\r\n              // 防止改变传入的editSpec\r\n              let nums = $this.deepCopyArr(item.productSpecNums)\r\n              if (nums.length === 0) {\r\n                opt2.productSpecNums = [{price: '', startNum: ''}]\r\n              } else {\r\n                nums.forEach((data) => {\r\n                  data.price = $this.fenToYuan(data.price)\r\n                })\r\n                opt2.productSpecNums = nums\r\n                let intervArr = item.priceInterval.split('~')\r\n                let interv = Number(intervArr[0]).toFixed(2) + '~' + Number(intervArr[1]).toFixed(2)\r\n                opt2.opt = interv\r\n                opt2.specNumSpan = interv\r\n              }\r\n            }\r\n          })\r\n        })\r\n        $this.priceUnitSku = $this.editSpec[0].priceUnit\r\n      }\r\n      // 保存一个属性后 隐藏input\r\n      this.isSkuEdit = false\r\n      // tab每列宽度\r\n      _this.specTrWid = (100 / (_this.skuTab.length + 2)) + '%'\r\n      $this.$emit('skuToParent', _this)\r\n    },\r\n    copyTab (lastv) {\r\n      let objs = {vals: this.deepCopyArr(lastv.vals), span: lastv.span, name: lastv.name}\r\n      this.specs.skuOpt1 = this.deepCopyArr(objs)\r\n      this.specs.skuOpt2 = this.deepCopyArr(objs)\r\n    },\r\n    unique (arr) {\r\n      arr.sort() // 先排序\r\n      let res = [arr[0]]\r\n      for (let i = 1; i < arr.length; i++) {\r\n        if (arr[i] !== res[res.length - 1]) {\r\n          res.push(arr[i])\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    // 判断库存有无填写\r\n    stockIsEmp () {\r\n      let vals = this.specs.skuOpt1.vals\r\n      let arr = 0\r\n      for (let i = 0, len = vals.length; i < len; i++) {\r\n        if (vals[i].opt !== '') {\r\n          arr++\r\n        }\r\n      }\r\n      if (arr) {\r\n        this.chkAllDisabld = false\r\n      } else {\r\n        this.chkAllDisabld = true\r\n      }\r\n    }\r\n  },\r\n  computed: mapGetters({\r\n  }),\r\n  created () {\r\n    proApi.getFreight().then(res => {\r\n      this.freightList = res.data.data\r\n    })\r\n    orderLogisticsAPI.getZhouAndCountry().then((res) => {\r\n      this.$store.commit('CACHE_ZHOUS', res.data.data)\r\n    })\r\n    if (this.$route.params.isback === 'true') {\r\n      this.isSkuEdit = false\r\n    }\r\n    this.renderSku()\r\n  },\r\n  watch: {\r\n    sameWholeNum () { // 库存全部相同\r\n      if (this.sameWholeNum) {\r\n        let v = this.specs.skuOpt1.vals\r\n        let firstnotnull = ''\r\n        for (let i = 0, len = v.length; i < len; i++) {\r\n          if (v[i].opt !== '' && !firstnotnull) {\r\n            firstnotnull = v[i].opt\r\n            break\r\n          }\r\n        }\r\n        for (let i = 0, len = v.length; i < len; i++) {\r\n          v[i].opt = firstnotnull\r\n        }\r\n      }\r\n    },\r\n    priceUnitSku () {\r\n      this.form.priceUnitSku = this.priceUnitSku\r\n    },\r\n    freightWay () {\r\n      this.form.freightWay = this.freightWay\r\n    },\r\n    toBack () {\r\n      if (this.toBack) {\r\n        this.$emit('skuToParent', this.specs)\r\n      }\r\n    },\r\n    'specs.skuOpt1.vals' () {\r\n      this.stockIsEmp()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n// @import '../../../assets/style/product.less';\r\n// .sku-pop{\r\n//   margin-left: -180px;\r\n// }\r\n.sku-show {\r\n  .el-button{\r\n    position: relative;\r\n  }\r\n  .icon-del{\r\n    display: none;\r\n    position: absolute;\r\n    right: -5px;\r\n    top: -5px;\r\n  }\r\n  .el-button:hover{\r\n    .icon-del{\r\n      display: block\r\n    }\r\n  }\r\n}\r\n.sku-spec-tabs{\r\n  td{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    width: 100px;\r\n    border: 1px solid #ccc;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Sku.vue?09f4ae68","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.sku-show .el-button {\\n  position: relative;\\n}\\n.sku-show .icon-del {\\n  display: none;\\n  position: absolute;\\n  right: -5px;\\n  top: -5px;\\n}\\n.sku-show .el-button:hover .icon-del {\\n  display: block;\\n}\\n.sku-spec-tabs td {\\n  height: 30px;\\n  line-height: 30px;\\n  width: 100px;\\n  border: 1px solid #ccc;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-16ee995e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/product/cpnts/Sku.vue\n// module id = 1168\n// module chunks = 80","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sku.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sku.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16ee995e\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sku.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\B2Bseller4.0\\\\b2b-seller4.0\\\\src\\\\views\\\\product\\\\cpnts\\\\Sku.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] Sku.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-16ee995e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-16ee995e\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/product/cpnts/Sku.vue\n// module id = 1473\n// module chunks = 80","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form-item', {\n    staticClass: \"sku-input\",\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"sku-tit\"\n  }, [_c('p', [_vm._v(\"SKU 规格\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"skuspec-box\",\n    class: {\n      'skuspec-no': (!_vm.specs.skuInputs.length && !_vm.specs.skuList.length)\n    }\n  }, [_c('div', {\n    staticClass: \"spec-input\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isSkuEdit),\n      expression: \"isSkuEdit\"\n    }],\n    staticClass: \"spec-input-inner\"\n  }, [_c('el-input', {\n    staticClass: \"ui-name input-s\",\n    attrs: {\n      \"placeholder\": \"规格名，如“Size”\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.removeSign('specname')\n      }\n    },\n    model: {\n      value: (_vm.specs.specname),\n      callback: function($$v) {\n        _vm.specs.specname = $$v\n      },\n      expression: \"specs.specname\"\n    }\n  }), _vm._v(\" \"), _c('em', [_vm._v(\" : \")]), _vm._v(\" \"), _vm._l((_vm.specs.skuInputs), function(v, index) {\n    return _c('el-input', {\n      key: index,\n      staticClass: \"input-s\",\n      attrs: {\n        \"placeholder\": v.placed,\n        \"index\": index\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.removeSign(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuInputs[index].specval),\n        callback: function($$v) {\n          _vm.specs.skuInputs[index].specval = $$v\n        },\n        expression: \"specs.skuInputs[index].specval\"\n      }\n    })\n  }), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": _vm.moreSkuVal\n    }\n  }, [_c('i', {\n    staticClass: \"icon-addcir\"\n  })])], 2), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isSkuEdit),\n      expression: \"isSkuEdit\"\n    }],\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveSku\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _vm._l((_vm.specs.skuList), function(v, vindex) {\n    return _c('div', {\n      staticClass: \"spec-show\",\n      attrs: {\n        \"index\": vindex\n      }\n    }, [_c('label', [_vm._v(_vm._s(v.name) + \" : \")]), _vm._v(\" \"), _vm._l((v.vals), function(data, index) {\n      return _c('span', {\n        key: index,\n        staticClass: \"show-close\",\n        attrs: {\n          \"index\": index\n        }\n      }, [_vm._v(_vm._s(data.specval) + \"\\n            \"), _c('i', {\n        staticClass: \"icon-remove2\",\n        on: {\n          \"click\": function($event) {\n            _vm.skuShowDel(vindex, index)\n          }\n        }\n      })])\n    }), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.skuEdit(vindex)\n        }\n      }\n    }, [_vm._v(\"编辑\")])], 2)\n  })], 2), _vm._v(\" \"), (_vm.specs.skuList.length < 3) ? _c('div', {\n    staticClass: \"spec-btns\"\n  }, [_c('el-button', {\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.moreSku\n    }\n  }, [_c('i', {\n    staticClass: \"icon-addthin\"\n  }), _vm._v(\"添加规格\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"tip\"\n  }, [_vm._v(\"最多可添加三组规格\")])], 1) : _vm._e()])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"货币单位\",\n      \"label-width\": \"94px\",\n      \"required\": \"\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.priceUnitSku),\n      callback: function($$v) {\n        _vm.priceUnitSku = $$v\n      },\n      expression: \"priceUnitSku\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"USD\",\n      \"value\": \"USD\"\n    }\n  })], 1)], 1), _vm._v(\" \"), (_vm.specs.skuTab.length) ? _c('el-form-item', {\n    staticClass: \"sku-spec-tab\",\n    attrs: {\n      \"label\": \"\",\n      \"id\": \"specTab\"\n    }\n  }, [_vm._l((_vm.specs.skuTab), function(v, vindex) {\n    return _c('ul', {\n      staticClass: \"sku-spec-tr clearfix\",\n      style: ({\n        'width': _vm.specs.specTrWid\n      })\n    }, [_c('li', {\n      staticClass: \"tab-header\"\n    }, [_vm._v(_vm._s(v.name))]), _vm._v(\" \"), _vm._l((v.vals), function(data, index) {\n      return _c('li', {\n        style: ({\n          'height': v.span + 'px',\n          'line-height': v.span + 'px'\n        }),\n        attrs: {\n          \"title\": data.specval\n        }\n      }, [_vm._v(_vm._s(data.specval))])\n    })], 2)\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"sku-spec-tr clearfix\",\n    style: ({\n      'width': _vm.specs.specTrWid\n    })\n  }, [_c('li', {\n    staticClass: \"tab-header\"\n  }, [_c('span', [_vm._v(\"\\n          库存 (\"), (_vm.unitMap) ? _c('i', [_vm._v(_vm._s(_vm.unitMap[_vm.form.productUnitEn]))]) : _vm._e(), _vm._v(\")\"), _c('el-checkbox', {\n    staticClass: \"pos\",\n    attrs: {\n      \"disabled\": _vm.chkAllDisabld\n    },\n    model: {\n      value: (_vm.sameWholeNum),\n      callback: function($$v) {\n        _vm.sameWholeNum = $$v\n      },\n      expression: \"sameWholeNum\"\n    }\n  }), _vm._v(\"  全部相同\\n        \")], 1)]), _vm._v(\" \"), _vm._l((_vm.specs.skuOpt1.vals), function(data, index) {\n    return _c('li', {\n      key: index,\n      style: ({\n        'height': _vm.specs.skuOpt1.span + 'px',\n        'line-height': _vm.specs.skuOpt1.span + 'px'\n      }),\n      attrs: {\n        \"index\": index\n      }\n    }, [_c('el-input', {\n      attrs: {\n        \"maxlength\": 6\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.validInvent(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuOpt1.vals[index].opt),\n        callback: function($$v) {\n          _vm.specs.skuOpt1.vals[index].opt = $$v\n        },\n        expression: \"specs.skuOpt1.vals[index].opt\"\n      }\n    })], 1)\n  })], 2), _vm._v(\" \"), _c('ul', {\n    staticClass: \"sku-spec-tr clearfix\",\n    style: ({\n      'width': _vm.specs.specTrWid\n    })\n  }, [_c('li', {\n    staticClass: \"tab-header\"\n  }, [_c('span', [_vm._v(\"\\n          单价 (\" + _vm._s(_vm.priceMap[_vm.form.priceUnitSku]) + \")\\n        \")])]), _vm._v(\" \"), _vm._l((_vm.specs.skuOpt2.vals), function(data, index) {\n    return _c('li', {\n      key: index,\n      style: ({\n        'height': _vm.specs.skuOpt2.span + 'px',\n        'line-height': _vm.specs.skuOpt2.span + 'px'\n      }),\n      attrs: {\n        \"index\": index\n      }\n    }, [_c('el-input', {\n      staticClass: \"red-text\",\n      attrs: {\n        \"readonly\": data.specNumSpan != '' && data.specNumSpan != null\n      },\n      on: {\n        \"blur\": function($event) {\n          _vm.validPrice(index)\n        }\n      },\n      model: {\n        value: (_vm.specs.skuOpt2.vals[index].opt),\n        callback: function($$v) {\n          _vm.specs.skuOpt2.vals[index].opt = $$v\n        },\n        expression: \"specs.skuOpt2.vals[index].opt\"\n      }\n    }), _vm._v(\" \"), _c('el-popover', {\n      attrs: {\n        \"placement\": \"bottom-end\",\n        \"width\": \"403\",\n        \"height\": \"81\",\n        \"popper-class\": \"sku-pop\",\n        \"trigger\": \"click\"\n      }\n    }, [_c('h6', [_vm._v(\"批发价区间 \"), _c('i', {\n      staticClass: \"red-tip\"\n    }, [_vm._v(_vm._s(_vm.specs.skuOpt2.vals[index].specNumSpan))])]), _vm._v(\" \"), _c('ul', [_c('li', {\n      staticClass: \"tab-header\"\n    }, [_c('span', [_vm._v(\"起订量(\"), (_vm.unitMap) ? _c('i', [_vm._v(_vm._s(_vm.unitMap[_vm.form.productUnitEn]))]) : _vm._e(), _vm._v(\")\")]), _vm._v(\" \"), _c('span', [_vm._v(\"价格\")])]), _vm._v(\" \"), _c('li', {}, [_c('ul', {\n      staticClass: \"num-price-list\"\n    }, [_vm._l((_vm.specs.skuOpt2.vals[index].productSpecNums), function(muld, idx) {\n      return _c('li', {\n        attrs: {\n          \"index\": idx\n        }\n      }, [_c('label', [_vm._v(\"≥ \")]), _c('el-input', {\n        attrs: {\n          \"maxlength\": 6\n        },\n        on: {\n          \"blur\": function($event) {\n            _vm.validStart(index, idx)\n          }\n        },\n        model: {\n          value: (data.productSpecNums[idx].startNum),\n          callback: function($$v) {\n            data.productSpecNums[idx].startNum = $$v\n          },\n          expression: \"data.productSpecNums[idx].startNum\"\n        }\n      }), _vm._v(\" \"), _c('hr', {\n        staticClass: \"hr\"\n      }), _vm._v(\" \"), _c('label', [_vm._v(\"USD: \")]), _c('el-input', {\n        attrs: {\n          \"maxlength\": 7\n        },\n        on: {\n          \"blur\": function($event) {\n            _vm.showPriceSpan(index, idx)\n          }\n        },\n        model: {\n          value: (data.productSpecNums[idx].price),\n          callback: function($$v) {\n            data.productSpecNums[idx].price = $$v\n          },\n          expression: \"data.productSpecNums[idx].price\"\n        }\n      }), _vm._v(\" \"), (idx) ? _c('el-button', {\n        attrs: {\n          \"type\": \"text\"\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.deleteNumSku(index, idx)\n          }\n        }\n      }, [_vm._v(\" 删除\")]) : _vm._e()], 1)\n    }), _vm._v(\" \"), (_vm.specs.skuOpt2.vals[index].productSpecNums.length < 4) ? _c('li', [_c('el-button', {\n      staticClass: \"add-span\",\n      attrs: {\n        \"type\": \"text\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.addMPriceNum(index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"icon-addcir\"\n    }), _vm._v(\"新增价格区间\\n                      \")]), _vm._v(\" \"), _c('span', {\n      staticClass: \"tip\"\n    }, [_vm._v(\"（最多设置4个价格区间）\")])], 1) : _vm._e()], 2)])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"name-wrapper\",\n      slot: \"reference\"\n    }, [_c('a', {\n      staticClass: \"buymulti-flag\",\n      attrs: {\n        \"href\": \"javascript:;\"\n      }\n    }, [_vm._v(\"批\")])])])], 1)\n  })], 2)], 2) : _vm._e(), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"freight-box\",\n    attrs: {\n      \"label\": \"运费计算方式\",\n      \"label-width\": \"122px\",\n      \"prop\": \"freightBear\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"0\"\n    },\n    model: {\n      value: (_vm.form.freightBear),\n      callback: function($$v) {\n        _vm.form.freightBear = $$v\n      },\n      expression: \"form.freightBear\"\n    }\n  }, [_vm._v(\"买家承担运费\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.form.freightBear),\n      callback: function($$v) {\n        _vm.form.freightBear = $$v\n      },\n      expression: \"form.freightBear\"\n    }\n  }, [_vm._v(\"卖家承担运费\")]), _vm._v(\" \"), (_vm.form.freightBear == '0') ? _c('div', {\n    staticClass: \"freight-buyer\"\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"0\"\n    },\n    model: {\n      value: (_vm.freightWay),\n      callback: function($$v) {\n        _vm.freightWay = $$v\n      },\n      expression: \"freightWay\"\n    }\n  }, [_vm._v(\"统一运费\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-wrap\"\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.freightPrice),\n      callback: function($$v) {\n        _vm.form.freightPrice = $$v\n      },\n      expression: \"form.freightPrice\"\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"unit-input\"\n  }, [_c('i', [_vm._v(\"|\")]), _vm._v(_vm._s(_vm.priceMap[_vm.form.priceUnitSku]))])], 1)], 1) : _vm._e(), _vm._v(\" \"), (_vm.form.freightBear == '0') ? _c('div', {\n    staticClass: \"freight-buyer\"\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": \"1\"\n    },\n    model: {\n      value: (_vm.freightWay),\n      callback: function($$v) {\n        _vm.freightWay = $$v\n      },\n      expression: \"freightWay\"\n    }\n  }, [_vm._v(\"运费模板\")]), _vm._v(\" \"), _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    on: {\n      \"visible-change\": _vm.getFreAgain\n    },\n    model: {\n      value: (_vm.form.freightTemplate),\n      callback: function($$v) {\n        _vm.form.freightTemplate = $$v\n      },\n      expression: \"form.freightTemplate\"\n    }\n  }, _vm._l((_vm.freightList), function(place) {\n    return _c('el-option', {\n      key: place.id,\n      attrs: {\n        \"label\": place.name,\n        \"value\": place.id\n      }\n    })\n  })), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"javascript:;\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.toAddr()\n      }\n    }\n  }, [_c('el-button', {\n    staticClass: \"btn-blue\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"新增运费模板\")])], 1)], 1) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-16ee995e\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-16ee995e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/product/cpnts/Sku.vue\n// module id = 1489\n// module chunks = 80","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sku.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"49c3153e\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sku.vue\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-16ee995e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Sku.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-16ee995e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/product/cpnts/Sku.vue\n// module id = 1662\n// module chunks = 80","/**\r\n * Created by admin on 2017/4/21.\r\n */\r\n/**\r\n * Created by admin on 2017/4/12.\r\n */\r\nimport HttpUtil from '@/common/HttpUtil'\r\n\r\nconst orderLogisticsAPI = {\r\n  /**\r\n   * 获取物流模板\r\n   */\r\n  getLogisticsTmpl (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/list'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n  /**\r\n   * 设置地址界面\r\n   * @param  {[type]} parame [description]\r\n   * @return {[type]}        [description]\r\n   */\r\n  getZhouAndCountry (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/config/continent/listwithcountrys'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n  /**\r\n   * 删除模板\r\n   * @param  {[type]} parame [description]\r\n   * @return {[type]}        [description]\r\n   */\r\n  deleteTmpl (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/delete'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n  /**\r\n   * 更新运费组合\r\n   * @param  {[type]} parame [description]\r\n   * @return {[type]}        [description]\r\n   */\r\n  updateFreight (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/update'\r\n    return HttpUtil.post(postUrl, parame)\r\n  },\r\n  /**\r\n   * 增加 运费组合\r\n   * @param {[type]} parame [description]\r\n   */\r\n  addFreight (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/add'\r\n    return HttpUtil.post(postUrl, parame)\r\n  },\r\n  /**\r\n   * 默认模板\r\n   * @param {[type]} parame [description]\r\n   */\r\n  setDefaultTmpl (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/setdefault'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n  /**\r\n   * 查询 物流模板详情\r\n   * @param  {[type]} parame [description]\r\n   * @return {[type]}        [description]\r\n   */\r\n  getLogisticsDetail (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/logistics/freighttemplate/detail'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n\r\n  /**\r\n   * 是否绑定账户\r\n   */\r\n  isBindAccount (parame) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/capital/paypal/querydetail'\r\n    return HttpUtil.get(postUrl, parame)\r\n  },\r\n  /**\r\n   * 获取资金收益信息\r\n   */\r\n  getStatisticsData () {\r\n    let postUrl = process.env.DOMAIN + '/bshop/capital/shop/statistics'\r\n    return HttpUtil.get(postUrl)\r\n  },\r\n  /**\r\n   * 绑定\r\n   */\r\n  bindAccount () {\r\n    let lost = location.protocol + '//' + window.location.host + '/#/back/2/'\r\n    let pramerobj = {callbackHtml: lost}\r\n    let postUrl = process.env.DOMAIN + '/bshop/capital/paypal/binding'\r\n    return HttpUtil.get(postUrl, pramerobj)\r\n  },\r\n  /**\r\n   * 解除绑定\r\n   */\r\n  removeAccount () {\r\n    let postUrl = process.env.DOMAIN + '/bshop/capital/paypal/remove'\r\n    return HttpUtil.post(postUrl)\r\n  },\r\n  /**\r\n   * 交易记录列表\r\n   */\r\n  getTransactionList (param) {\r\n    let postUrl = process.env.DOMAIN + '/bshop/capital/shop/flowpage'\r\n    return HttpUtil.get(postUrl, param)\r\n  }\r\n}\r\nexport default orderLogisticsAPI\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/orderLogisticsAPI.js"],"sourceRoot":""}